// Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html

exports[`Node Mapping > should handle 'test_compile_json[amix-stream][compilâ€¦' case 1`] = `
{
  "nodeMap": Map {
    "global-0" => {
      "__class__": "GlobalNode",
      "inputs": [],
      "kwargs": {},
    },
    "output-1" => {
      "__class__": "OutputNode",
      "filename": "tmp.mp4",
      "inputs": [
        {
          "__class__": "AudioStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
            "inputs": [
              {
                "__class__": "AudioStream",
                "index": 0,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "AudioStream",
                      "index": 1,
                      "node": {
                        "__class__": "FilterNode",
                        "input_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "audio",
                          },
                        ],
                        "inputs": [
                          {
                            "__class__": "AudioStream",
                            "index": 0,
                            "node": {
                              "__class__": "FilterNode",
                              "input_typings": [
                                {
                                  "__class__": "StreamType",
                                  "value": "audio",
                                },
                              ],
                              "inputs": [
                                {
                                  "__class__": "AVStream",
                                  "index": null,
                                  "node": {
                                    "__class__": "InputNode",
                                    "filename": "input1.mp4",
                                    "inputs": [],
                                    "kwargs": {},
                                  },
                                },
                              ],
                              "kwargs": {},
                              "name": "areverse",
                              "output_typings": [
                                {
                                  "__class__": "StreamType",
                                  "value": "audio",
                                },
                              ],
                            },
                          },
                        ],
                        "kwargs": {
                          "outputs": 2,
                        },
                        "name": "asplit",
                        "output_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "audio",
                          },
                          {
                            "__class__": "StreamType",
                            "value": "audio",
                          },
                        ],
                      },
                    },
                  ],
                  "kwargs": {},
                  "name": "areverse",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                },
              },
              {
                "__class__": "AudioStream",
                "index": 0,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "AudioStream",
                      "index": 0,
                      "node": {
                        "__class__": "FilterNode",
                        "input_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "audio",
                          },
                        ],
                        "inputs": [
                          {
                            "__class__": "AVStream",
                            "index": null,
                            "node": {
                              "__class__": "InputNode",
                              "filename": "input1.mp4",
                              "inputs": [],
                              "kwargs": {},
                            },
                          },
                        ],
                        "kwargs": {},
                        "name": "areverse",
                        "output_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "audio",
                          },
                        ],
                      },
                    },
                  ],
                  "kwargs": {
                    "outputs": 2,
                  },
                  "name": "asplit",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                },
              },
            ],
            "kwargs": {
              "duration": "first",
              "inputs": 2,
            },
            "name": "amix",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
          },
        },
      ],
      "kwargs": {},
    },
    "filter-amix-2" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
      "inputs": [
        {
          "__class__": "AudioStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
            "inputs": [
              {
                "__class__": "AudioStream",
                "index": 1,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "AudioStream",
                      "index": 0,
                      "node": {
                        "__class__": "FilterNode",
                        "input_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "audio",
                          },
                        ],
                        "inputs": [
                          {
                            "__class__": "AVStream",
                            "index": null,
                            "node": {
                              "__class__": "InputNode",
                              "filename": "input1.mp4",
                              "inputs": [],
                              "kwargs": {},
                            },
                          },
                        ],
                        "kwargs": {},
                        "name": "areverse",
                        "output_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "audio",
                          },
                        ],
                      },
                    },
                  ],
                  "kwargs": {
                    "outputs": 2,
                  },
                  "name": "asplit",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                },
              },
            ],
            "kwargs": {},
            "name": "areverse",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
          },
        },
        {
          "__class__": "AudioStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
            "inputs": [
              {
                "__class__": "AudioStream",
                "index": 0,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "AVStream",
                      "index": null,
                      "node": {
                        "__class__": "InputNode",
                        "filename": "input1.mp4",
                        "inputs": [],
                        "kwargs": {},
                      },
                    },
                  ],
                  "kwargs": {},
                  "name": "areverse",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                },
              },
            ],
            "kwargs": {
              "outputs": 2,
            },
            "name": "asplit",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
          },
        },
      ],
      "kwargs": {
        "duration": "first",
        "inputs": 2,
      },
      "name": "amix",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
    },
    "filter-areverse-3" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
      "inputs": [
        {
          "__class__": "AudioStream",
          "index": 1,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
            "inputs": [
              {
                "__class__": "AudioStream",
                "index": 0,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "AVStream",
                      "index": null,
                      "node": {
                        "__class__": "InputNode",
                        "filename": "input1.mp4",
                        "inputs": [],
                        "kwargs": {},
                      },
                    },
                  ],
                  "kwargs": {},
                  "name": "areverse",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                },
              },
            ],
            "kwargs": {
              "outputs": 2,
            },
            "name": "asplit",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
          },
        },
      ],
      "kwargs": {},
      "name": "areverse",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
    },
    "filter-asplit-4" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
      "inputs": [
        {
          "__class__": "AudioStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
            "inputs": [
              {
                "__class__": "AVStream",
                "index": null,
                "node": {
                  "__class__": "InputNode",
                  "filename": "input1.mp4",
                  "inputs": [],
                  "kwargs": {},
                },
              },
            ],
            "kwargs": {},
            "name": "areverse",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
          },
        },
      ],
      "kwargs": {
        "outputs": 2,
      },
      "name": "asplit",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
    },
    "filter-areverse-5" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
      "inputs": [
        {
          "__class__": "AVStream",
          "index": null,
          "node": {
            "__class__": "InputNode",
            "filename": "input1.mp4",
            "inputs": [],
            "kwargs": {},
          },
        },
      ],
      "kwargs": {},
      "name": "areverse",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
    },
    "input-6" => {
      "__class__": "InputNode",
      "filename": "input1.mp4",
      "inputs": [],
      "kwargs": {},
    },
    "filter-asplit-7" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
      "inputs": [
        {
          "__class__": "AudioStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
            "inputs": [
              {
                "__class__": "AVStream",
                "index": null,
                "node": {
                  "__class__": "InputNode",
                  "filename": "input1.mp4",
                  "inputs": [],
                  "kwargs": {},
                },
              },
            ],
            "kwargs": {},
            "name": "areverse",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
          },
        },
      ],
      "kwargs": {
        "outputs": 2,
      },
      "name": "asplit",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
    },
    "filter-areverse-8" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
      "inputs": [
        {
          "__class__": "AVStream",
          "index": null,
          "node": {
            "__class__": "InputNode",
            "filename": "input1.mp4",
            "inputs": [],
            "kwargs": {},
          },
        },
      ],
      "kwargs": {},
      "name": "areverse",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
    },
    "input-9" => {
      "__class__": "InputNode",
      "filename": "input1.mp4",
      "inputs": [],
      "kwargs": {},
    },
  },
}
`;

exports[`Node Mapping > should handle 'test_compile_json[amix-stream][compilâ€¦' case 2`] = `
{
  "edgeMap": Map {
    "edge-input-6-0-filter-areverse-5-0" => {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    },
    "edge-filter-areverse-5-0-filter-asplit-4-0" => {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "areverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    },
    "edge-filter-asplit-4-1-filter-areverse-3-0" => {
      "__class__": "AudioStream",
      "index": 1,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "areverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "asplit",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    },
    "edge-filter-areverse-3-0-filter-amix-2-0" => {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 1,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AudioStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "areverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "asplit",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {},
        "name": "areverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    },
    "edge-input-9-0-filter-areverse-8-0" => {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    },
    "edge-filter-areverse-8-0-filter-asplit-7-0" => {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "areverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    },
    "edge-filter-asplit-7-0-filter-amix-2-1" => {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "areverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "asplit",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    },
    "edge-filter-amix-2-0-output-1-0" => {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AudioStream",
                  "index": 1,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AudioStream",
                        "index": 0,
                        "node": {
                          "__class__": "FilterNode",
                          "input_typings": [
                            {
                              "__class__": "StreamType",
                              "value": "audio",
                            },
                          ],
                          "inputs": [
                            {
                              "__class__": "AVStream",
                              "index": null,
                              "node": {
                                "__class__": "InputNode",
                                "filename": "input1.mp4",
                                "inputs": [],
                                "kwargs": {},
                              },
                            },
                          ],
                          "kwargs": {},
                          "name": "areverse",
                          "output_typings": [
                            {
                              "__class__": "StreamType",
                              "value": "audio",
                            },
                          ],
                        },
                      },
                    ],
                    "kwargs": {
                      "outputs": 2,
                    },
                    "name": "asplit",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {},
              "name": "areverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AudioStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "areverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "asplit",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "duration": "first",
          "inputs": 2,
        },
        "name": "amix",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    },
  },
  "reverseMap": Map {
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => "edge-input-6-0-filter-areverse-5-0",
    {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "areverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => "edge-filter-areverse-5-0-filter-asplit-4-0",
    {
      "__class__": "AudioStream",
      "index": 1,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "areverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "asplit",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => "edge-filter-asplit-4-1-filter-areverse-3-0",
    {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 1,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AudioStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "areverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "asplit",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {},
        "name": "areverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => "edge-filter-areverse-3-0-filter-amix-2-0",
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => "edge-input-9-0-filter-areverse-8-0",
    {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "areverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => "edge-filter-areverse-8-0-filter-asplit-7-0",
    {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "areverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "asplit",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => "edge-filter-asplit-7-0-filter-amix-2-1",
    {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AudioStream",
                  "index": 1,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AudioStream",
                        "index": 0,
                        "node": {
                          "__class__": "FilterNode",
                          "input_typings": [
                            {
                              "__class__": "StreamType",
                              "value": "audio",
                            },
                          ],
                          "inputs": [
                            {
                              "__class__": "AVStream",
                              "index": null,
                              "node": {
                                "__class__": "InputNode",
                                "filename": "input1.mp4",
                                "inputs": [],
                                "kwargs": {},
                              },
                            },
                          ],
                          "kwargs": {},
                          "name": "areverse",
                          "output_typings": [
                            {
                              "__class__": "StreamType",
                              "value": "audio",
                            },
                          ],
                        },
                      },
                    ],
                    "kwargs": {
                      "outputs": 2,
                    },
                    "name": "asplit",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {},
              "name": "areverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AudioStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "areverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "asplit",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "duration": "first",
          "inputs": 2,
        },
        "name": "amix",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => "edge-filter-amix-2-0-output-1-0",
  },
  "targetMap": Map {
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => {
      "index": 0,
      "nodeId": "filter-areverse-5",
    },
    {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "areverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "filter-asplit-4",
    },
    {
      "__class__": "AudioStream",
      "index": 1,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "areverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "asplit",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "filter-areverse-3",
    },
    {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 1,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AudioStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "areverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "asplit",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {},
        "name": "areverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "filter-amix-2",
    },
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => {
      "index": 0,
      "nodeId": "filter-areverse-8",
    },
    {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "areverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "filter-asplit-7",
    },
    {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "areverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "asplit",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => {
      "index": 1,
      "nodeId": "filter-amix-2",
    },
    {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AudioStream",
                  "index": 1,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AudioStream",
                        "index": 0,
                        "node": {
                          "__class__": "FilterNode",
                          "input_typings": [
                            {
                              "__class__": "StreamType",
                              "value": "audio",
                            },
                          ],
                          "inputs": [
                            {
                              "__class__": "AVStream",
                              "index": null,
                              "node": {
                                "__class__": "InputNode",
                                "filename": "input1.mp4",
                                "inputs": [],
                                "kwargs": {},
                              },
                            },
                          ],
                          "kwargs": {},
                          "name": "areverse",
                          "output_typings": [
                            {
                              "__class__": "StreamType",
                              "value": "audio",
                            },
                          ],
                        },
                      },
                    ],
                    "kwargs": {
                      "outputs": 2,
                    },
                    "name": "asplit",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {},
              "name": "areverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AudioStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "areverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "asplit",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "duration": "first",
          "inputs": 2,
        },
        "name": "amix",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "output-1",
    },
  },
}
`;

exports[`Node Mapping > should handle 'test_compile_json[amix-stream][compilâ€¦' case 3`] = `"{"kwargs":{},"inputs":[],"__class__":"GlobalNode"}"`;

exports[`Node Mapping > should handle 'test_compile_json[amix-stream-2][compâ€¦' case 1`] = `
{
  "nodeMap": Map {
    "global-0" => {
      "__class__": "GlobalNode",
      "inputs": [],
      "kwargs": {},
    },
    "output-1" => {
      "__class__": "OutputNode",
      "filename": "tmp.mp4",
      "inputs": [
        {
          "__class__": "AudioStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
            "inputs": [
              {
                "__class__": "AudioStream",
                "index": 0,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "AudioStream",
                      "index": 0,
                      "node": {
                        "__class__": "FilterNode",
                        "input_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "audio",
                          },
                        ],
                        "inputs": [
                          {
                            "__class__": "AVStream",
                            "index": null,
                            "node": {
                              "__class__": "InputNode",
                              "filename": "input1.mp4",
                              "inputs": [],
                              "kwargs": {},
                            },
                          },
                        ],
                        "kwargs": {},
                        "name": "areverse",
                        "output_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "audio",
                          },
                        ],
                      },
                    },
                  ],
                  "kwargs": {
                    "outputs": 2,
                  },
                  "name": "asplit",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                },
              },
              {
                "__class__": "AudioStream",
                "index": 0,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "AudioStream",
                      "index": 1,
                      "node": {
                        "__class__": "FilterNode",
                        "input_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "audio",
                          },
                        ],
                        "inputs": [
                          {
                            "__class__": "AudioStream",
                            "index": 0,
                            "node": {
                              "__class__": "FilterNode",
                              "input_typings": [
                                {
                                  "__class__": "StreamType",
                                  "value": "audio",
                                },
                              ],
                              "inputs": [
                                {
                                  "__class__": "AVStream",
                                  "index": null,
                                  "node": {
                                    "__class__": "InputNode",
                                    "filename": "input1.mp4",
                                    "inputs": [],
                                    "kwargs": {},
                                  },
                                },
                              ],
                              "kwargs": {},
                              "name": "areverse",
                              "output_typings": [
                                {
                                  "__class__": "StreamType",
                                  "value": "audio",
                                },
                              ],
                            },
                          },
                        ],
                        "kwargs": {
                          "outputs": 2,
                        },
                        "name": "asplit",
                        "output_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "audio",
                          },
                          {
                            "__class__": "StreamType",
                            "value": "audio",
                          },
                        ],
                      },
                    },
                  ],
                  "kwargs": {},
                  "name": "areverse",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                },
              },
            ],
            "kwargs": {
              "duration": "first",
              "inputs": 2,
            },
            "name": "amix",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
          },
        },
      ],
      "kwargs": {},
    },
    "filter-amix-2" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
      "inputs": [
        {
          "__class__": "AudioStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
            "inputs": [
              {
                "__class__": "AudioStream",
                "index": 0,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "AVStream",
                      "index": null,
                      "node": {
                        "__class__": "InputNode",
                        "filename": "input1.mp4",
                        "inputs": [],
                        "kwargs": {},
                      },
                    },
                  ],
                  "kwargs": {},
                  "name": "areverse",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                },
              },
            ],
            "kwargs": {
              "outputs": 2,
            },
            "name": "asplit",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
          },
        },
        {
          "__class__": "AudioStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
            "inputs": [
              {
                "__class__": "AudioStream",
                "index": 1,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "AudioStream",
                      "index": 0,
                      "node": {
                        "__class__": "FilterNode",
                        "input_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "audio",
                          },
                        ],
                        "inputs": [
                          {
                            "__class__": "AVStream",
                            "index": null,
                            "node": {
                              "__class__": "InputNode",
                              "filename": "input1.mp4",
                              "inputs": [],
                              "kwargs": {},
                            },
                          },
                        ],
                        "kwargs": {},
                        "name": "areverse",
                        "output_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "audio",
                          },
                        ],
                      },
                    },
                  ],
                  "kwargs": {
                    "outputs": 2,
                  },
                  "name": "asplit",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                },
              },
            ],
            "kwargs": {},
            "name": "areverse",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
          },
        },
      ],
      "kwargs": {
        "duration": "first",
        "inputs": 2,
      },
      "name": "amix",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
    },
    "filter-asplit-3" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
      "inputs": [
        {
          "__class__": "AudioStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
            "inputs": [
              {
                "__class__": "AVStream",
                "index": null,
                "node": {
                  "__class__": "InputNode",
                  "filename": "input1.mp4",
                  "inputs": [],
                  "kwargs": {},
                },
              },
            ],
            "kwargs": {},
            "name": "areverse",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
          },
        },
      ],
      "kwargs": {
        "outputs": 2,
      },
      "name": "asplit",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
    },
    "filter-areverse-4" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
      "inputs": [
        {
          "__class__": "AVStream",
          "index": null,
          "node": {
            "__class__": "InputNode",
            "filename": "input1.mp4",
            "inputs": [],
            "kwargs": {},
          },
        },
      ],
      "kwargs": {},
      "name": "areverse",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
    },
    "input-5" => {
      "__class__": "InputNode",
      "filename": "input1.mp4",
      "inputs": [],
      "kwargs": {},
    },
    "filter-areverse-6" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
      "inputs": [
        {
          "__class__": "AudioStream",
          "index": 1,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
            "inputs": [
              {
                "__class__": "AudioStream",
                "index": 0,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "AVStream",
                      "index": null,
                      "node": {
                        "__class__": "InputNode",
                        "filename": "input1.mp4",
                        "inputs": [],
                        "kwargs": {},
                      },
                    },
                  ],
                  "kwargs": {},
                  "name": "areverse",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                },
              },
            ],
            "kwargs": {
              "outputs": 2,
            },
            "name": "asplit",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
          },
        },
      ],
      "kwargs": {},
      "name": "areverse",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
    },
    "filter-asplit-7" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
      "inputs": [
        {
          "__class__": "AudioStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
            "inputs": [
              {
                "__class__": "AVStream",
                "index": null,
                "node": {
                  "__class__": "InputNode",
                  "filename": "input1.mp4",
                  "inputs": [],
                  "kwargs": {},
                },
              },
            ],
            "kwargs": {},
            "name": "areverse",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
          },
        },
      ],
      "kwargs": {
        "outputs": 2,
      },
      "name": "asplit",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
    },
    "filter-areverse-8" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
      "inputs": [
        {
          "__class__": "AVStream",
          "index": null,
          "node": {
            "__class__": "InputNode",
            "filename": "input1.mp4",
            "inputs": [],
            "kwargs": {},
          },
        },
      ],
      "kwargs": {},
      "name": "areverse",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
    },
    "input-9" => {
      "__class__": "InputNode",
      "filename": "input1.mp4",
      "inputs": [],
      "kwargs": {},
    },
  },
}
`;

exports[`Node Mapping > should handle 'test_compile_json[amix-stream-2][compâ€¦' case 2`] = `
{
  "edgeMap": Map {
    "edge-input-5-0-filter-areverse-4-0" => {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    },
    "edge-filter-areverse-4-0-filter-asplit-3-0" => {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "areverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    },
    "edge-filter-asplit-3-0-filter-amix-2-0" => {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "areverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "asplit",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    },
    "edge-input-9-0-filter-areverse-8-0" => {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    },
    "edge-filter-areverse-8-0-filter-asplit-7-0" => {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "areverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    },
    "edge-filter-asplit-7-1-filter-areverse-6-0" => {
      "__class__": "AudioStream",
      "index": 1,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "areverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "asplit",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    },
    "edge-filter-areverse-6-0-filter-amix-2-1" => {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 1,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AudioStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "areverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "asplit",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {},
        "name": "areverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    },
    "edge-filter-amix-2-0-output-1-0" => {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AudioStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "areverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "asplit",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AudioStream",
                  "index": 1,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AudioStream",
                        "index": 0,
                        "node": {
                          "__class__": "FilterNode",
                          "input_typings": [
                            {
                              "__class__": "StreamType",
                              "value": "audio",
                            },
                          ],
                          "inputs": [
                            {
                              "__class__": "AVStream",
                              "index": null,
                              "node": {
                                "__class__": "InputNode",
                                "filename": "input1.mp4",
                                "inputs": [],
                                "kwargs": {},
                              },
                            },
                          ],
                          "kwargs": {},
                          "name": "areverse",
                          "output_typings": [
                            {
                              "__class__": "StreamType",
                              "value": "audio",
                            },
                          ],
                        },
                      },
                    ],
                    "kwargs": {
                      "outputs": 2,
                    },
                    "name": "asplit",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {},
              "name": "areverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "duration": "first",
          "inputs": 2,
        },
        "name": "amix",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    },
  },
  "reverseMap": Map {
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => "edge-input-5-0-filter-areverse-4-0",
    {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "areverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => "edge-filter-areverse-4-0-filter-asplit-3-0",
    {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "areverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "asplit",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => "edge-filter-asplit-3-0-filter-amix-2-0",
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => "edge-input-9-0-filter-areverse-8-0",
    {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "areverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => "edge-filter-areverse-8-0-filter-asplit-7-0",
    {
      "__class__": "AudioStream",
      "index": 1,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "areverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "asplit",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => "edge-filter-asplit-7-1-filter-areverse-6-0",
    {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 1,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AudioStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "areverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "asplit",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {},
        "name": "areverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => "edge-filter-areverse-6-0-filter-amix-2-1",
    {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AudioStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "areverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "asplit",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AudioStream",
                  "index": 1,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AudioStream",
                        "index": 0,
                        "node": {
                          "__class__": "FilterNode",
                          "input_typings": [
                            {
                              "__class__": "StreamType",
                              "value": "audio",
                            },
                          ],
                          "inputs": [
                            {
                              "__class__": "AVStream",
                              "index": null,
                              "node": {
                                "__class__": "InputNode",
                                "filename": "input1.mp4",
                                "inputs": [],
                                "kwargs": {},
                              },
                            },
                          ],
                          "kwargs": {},
                          "name": "areverse",
                          "output_typings": [
                            {
                              "__class__": "StreamType",
                              "value": "audio",
                            },
                          ],
                        },
                      },
                    ],
                    "kwargs": {
                      "outputs": 2,
                    },
                    "name": "asplit",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {},
              "name": "areverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "duration": "first",
          "inputs": 2,
        },
        "name": "amix",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => "edge-filter-amix-2-0-output-1-0",
  },
  "targetMap": Map {
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => {
      "index": 0,
      "nodeId": "filter-areverse-4",
    },
    {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "areverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "filter-asplit-3",
    },
    {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "areverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "asplit",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "filter-amix-2",
    },
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => {
      "index": 0,
      "nodeId": "filter-areverse-8",
    },
    {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "areverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "filter-asplit-7",
    },
    {
      "__class__": "AudioStream",
      "index": 1,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "areverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "asplit",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "filter-areverse-6",
    },
    {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 1,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AudioStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "areverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "asplit",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {},
        "name": "areverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => {
      "index": 1,
      "nodeId": "filter-amix-2",
    },
    {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AudioStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "areverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "asplit",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AudioStream",
                  "index": 1,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AudioStream",
                        "index": 0,
                        "node": {
                          "__class__": "FilterNode",
                          "input_typings": [
                            {
                              "__class__": "StreamType",
                              "value": "audio",
                            },
                          ],
                          "inputs": [
                            {
                              "__class__": "AVStream",
                              "index": null,
                              "node": {
                                "__class__": "InputNode",
                                "filename": "input1.mp4",
                                "inputs": [],
                                "kwargs": {},
                              },
                            },
                          ],
                          "kwargs": {},
                          "name": "areverse",
                          "output_typings": [
                            {
                              "__class__": "StreamType",
                              "value": "audio",
                            },
                          ],
                        },
                      },
                    ],
                    "kwargs": {
                      "outputs": 2,
                    },
                    "name": "asplit",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {},
              "name": "areverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "duration": "first",
          "inputs": 2,
        },
        "name": "amix",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "output-1",
    },
  },
}
`;

exports[`Node Mapping > should handle 'test_compile_json[amix-stream-2][compâ€¦' case 3`] = `"{"kwargs":{},"inputs":[],"__class__":"GlobalNode"}"`;

exports[`Node Mapping > should handle 'test_compile_json[complex-stream][comâ€¦' case 1`] = `
{
  "nodeMap": Map {
    "global-0" => {
      "__class__": "GlobalNode",
      "inputs": [],
      "kwargs": {},
    },
    "output-1" => {
      "__class__": "OutputNode",
      "filename": "tmp.mp4",
      "inputs": [
        {
          "__class__": "VideoStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
              {
                "__class__": "StreamType",
                "value": "audio",
              },
              {
                "__class__": "StreamType",
                "value": "video",
              },
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
            "inputs": [
              {
                "__class__": "VideoStream",
                "index": 0,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "VideoStream",
                      "index": 0,
                      "node": {
                        "__class__": "FilterNode",
                        "input_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "video",
                          },
                        ],
                        "inputs": [
                          {
                            "__class__": "AVStream",
                            "index": null,
                            "node": {
                              "__class__": "InputNode",
                              "filename": "input1.mp4",
                              "inputs": [],
                              "kwargs": {},
                            },
                          },
                        ],
                        "kwargs": {},
                        "name": "reverse",
                        "output_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "video",
                          },
                        ],
                      },
                    },
                  ],
                  "kwargs": {
                    "outputs": 2,
                  },
                  "name": "split",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                },
              },
              {
                "__class__": "AudioStream",
                "index": 0,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "AudioStream",
                      "index": 0,
                      "node": {
                        "__class__": "FilterNode",
                        "input_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "audio",
                          },
                        ],
                        "inputs": [
                          {
                            "__class__": "AVStream",
                            "index": null,
                            "node": {
                              "__class__": "InputNode",
                              "filename": "input2.mp4",
                              "inputs": [],
                              "kwargs": {},
                            },
                          },
                        ],
                        "kwargs": {},
                        "name": "areverse",
                        "output_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "audio",
                          },
                        ],
                      },
                    },
                  ],
                  "kwargs": {
                    "outputs": 2,
                  },
                  "name": "asplit",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                },
              },
              {
                "__class__": "VideoStream",
                "index": 1,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "VideoStream",
                      "index": 0,
                      "node": {
                        "__class__": "FilterNode",
                        "input_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "video",
                          },
                        ],
                        "inputs": [
                          {
                            "__class__": "AVStream",
                            "index": null,
                            "node": {
                              "__class__": "InputNode",
                              "filename": "input1.mp4",
                              "inputs": [],
                              "kwargs": {},
                            },
                          },
                        ],
                        "kwargs": {},
                        "name": "reverse",
                        "output_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "video",
                          },
                        ],
                      },
                    },
                  ],
                  "kwargs": {
                    "outputs": 2,
                  },
                  "name": "split",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                },
              },
              {
                "__class__": "AudioStream",
                "index": 1,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "AudioStream",
                      "index": 0,
                      "node": {
                        "__class__": "FilterNode",
                        "input_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "audio",
                          },
                        ],
                        "inputs": [
                          {
                            "__class__": "AVStream",
                            "index": null,
                            "node": {
                              "__class__": "InputNode",
                              "filename": "input2.mp4",
                              "inputs": [],
                              "kwargs": {},
                            },
                          },
                        ],
                        "kwargs": {},
                        "name": "areverse",
                        "output_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "audio",
                          },
                        ],
                      },
                    },
                  ],
                  "kwargs": {
                    "outputs": 2,
                  },
                  "name": "asplit",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                },
              },
            ],
            "kwargs": {
              "a": 1,
              "n": 2,
              "v": 1,
            },
            "name": "concat",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
          },
        },
        {
          "__class__": "AudioStream",
          "index": 1,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
              {
                "__class__": "StreamType",
                "value": "audio",
              },
              {
                "__class__": "StreamType",
                "value": "video",
              },
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
            "inputs": [
              {
                "__class__": "VideoStream",
                "index": 0,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "VideoStream",
                      "index": 0,
                      "node": {
                        "__class__": "FilterNode",
                        "input_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "video",
                          },
                        ],
                        "inputs": [
                          {
                            "__class__": "AVStream",
                            "index": null,
                            "node": {
                              "__class__": "InputNode",
                              "filename": "input1.mp4",
                              "inputs": [],
                              "kwargs": {},
                            },
                          },
                        ],
                        "kwargs": {},
                        "name": "reverse",
                        "output_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "video",
                          },
                        ],
                      },
                    },
                  ],
                  "kwargs": {
                    "outputs": 2,
                  },
                  "name": "split",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                },
              },
              {
                "__class__": "AudioStream",
                "index": 0,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "AudioStream",
                      "index": 0,
                      "node": {
                        "__class__": "FilterNode",
                        "input_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "audio",
                          },
                        ],
                        "inputs": [
                          {
                            "__class__": "AVStream",
                            "index": null,
                            "node": {
                              "__class__": "InputNode",
                              "filename": "input2.mp4",
                              "inputs": [],
                              "kwargs": {},
                            },
                          },
                        ],
                        "kwargs": {},
                        "name": "areverse",
                        "output_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "audio",
                          },
                        ],
                      },
                    },
                  ],
                  "kwargs": {
                    "outputs": 2,
                  },
                  "name": "asplit",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                },
              },
              {
                "__class__": "VideoStream",
                "index": 1,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "VideoStream",
                      "index": 0,
                      "node": {
                        "__class__": "FilterNode",
                        "input_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "video",
                          },
                        ],
                        "inputs": [
                          {
                            "__class__": "AVStream",
                            "index": null,
                            "node": {
                              "__class__": "InputNode",
                              "filename": "input1.mp4",
                              "inputs": [],
                              "kwargs": {},
                            },
                          },
                        ],
                        "kwargs": {},
                        "name": "reverse",
                        "output_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "video",
                          },
                        ],
                      },
                    },
                  ],
                  "kwargs": {
                    "outputs": 2,
                  },
                  "name": "split",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                },
              },
              {
                "__class__": "AudioStream",
                "index": 1,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "AudioStream",
                      "index": 0,
                      "node": {
                        "__class__": "FilterNode",
                        "input_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "audio",
                          },
                        ],
                        "inputs": [
                          {
                            "__class__": "AVStream",
                            "index": null,
                            "node": {
                              "__class__": "InputNode",
                              "filename": "input2.mp4",
                              "inputs": [],
                              "kwargs": {},
                            },
                          },
                        ],
                        "kwargs": {},
                        "name": "areverse",
                        "output_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "audio",
                          },
                        ],
                      },
                    },
                  ],
                  "kwargs": {
                    "outputs": 2,
                  },
                  "name": "asplit",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                },
              },
            ],
            "kwargs": {
              "a": 1,
              "n": 2,
              "v": 1,
            },
            "name": "concat",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
          },
        },
      ],
      "kwargs": {},
    },
    "filter-concat-2" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
        {
          "__class__": "StreamType",
          "value": "audio",
        },
        {
          "__class__": "StreamType",
          "value": "video",
        },
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
      "inputs": [
        {
          "__class__": "VideoStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
            "inputs": [
              {
                "__class__": "VideoStream",
                "index": 0,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "AVStream",
                      "index": null,
                      "node": {
                        "__class__": "InputNode",
                        "filename": "input1.mp4",
                        "inputs": [],
                        "kwargs": {},
                      },
                    },
                  ],
                  "kwargs": {},
                  "name": "reverse",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                },
              },
            ],
            "kwargs": {
              "outputs": 2,
            },
            "name": "split",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
          },
        },
        {
          "__class__": "AudioStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
            "inputs": [
              {
                "__class__": "AudioStream",
                "index": 0,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "AVStream",
                      "index": null,
                      "node": {
                        "__class__": "InputNode",
                        "filename": "input2.mp4",
                        "inputs": [],
                        "kwargs": {},
                      },
                    },
                  ],
                  "kwargs": {},
                  "name": "areverse",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                },
              },
            ],
            "kwargs": {
              "outputs": 2,
            },
            "name": "asplit",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
          },
        },
        {
          "__class__": "VideoStream",
          "index": 1,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
            "inputs": [
              {
                "__class__": "VideoStream",
                "index": 0,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "AVStream",
                      "index": null,
                      "node": {
                        "__class__": "InputNode",
                        "filename": "input1.mp4",
                        "inputs": [],
                        "kwargs": {},
                      },
                    },
                  ],
                  "kwargs": {},
                  "name": "reverse",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                },
              },
            ],
            "kwargs": {
              "outputs": 2,
            },
            "name": "split",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
          },
        },
        {
          "__class__": "AudioStream",
          "index": 1,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
            "inputs": [
              {
                "__class__": "AudioStream",
                "index": 0,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "AVStream",
                      "index": null,
                      "node": {
                        "__class__": "InputNode",
                        "filename": "input2.mp4",
                        "inputs": [],
                        "kwargs": {},
                      },
                    },
                  ],
                  "kwargs": {},
                  "name": "areverse",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                },
              },
            ],
            "kwargs": {
              "outputs": 2,
            },
            "name": "asplit",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
          },
        },
      ],
      "kwargs": {
        "a": 1,
        "n": 2,
        "v": 1,
      },
      "name": "concat",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
    },
    "filter-split-3" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
      "inputs": [
        {
          "__class__": "VideoStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
            "inputs": [
              {
                "__class__": "AVStream",
                "index": null,
                "node": {
                  "__class__": "InputNode",
                  "filename": "input1.mp4",
                  "inputs": [],
                  "kwargs": {},
                },
              },
            ],
            "kwargs": {},
            "name": "reverse",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
          },
        },
      ],
      "kwargs": {
        "outputs": 2,
      },
      "name": "split",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
    },
    "filter-reverse-4" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
      "inputs": [
        {
          "__class__": "AVStream",
          "index": null,
          "node": {
            "__class__": "InputNode",
            "filename": "input1.mp4",
            "inputs": [],
            "kwargs": {},
          },
        },
      ],
      "kwargs": {},
      "name": "reverse",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
    },
    "input-5" => {
      "__class__": "InputNode",
      "filename": "input1.mp4",
      "inputs": [],
      "kwargs": {},
    },
    "filter-asplit-6" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
      "inputs": [
        {
          "__class__": "AudioStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
            "inputs": [
              {
                "__class__": "AVStream",
                "index": null,
                "node": {
                  "__class__": "InputNode",
                  "filename": "input2.mp4",
                  "inputs": [],
                  "kwargs": {},
                },
              },
            ],
            "kwargs": {},
            "name": "areverse",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
          },
        },
      ],
      "kwargs": {
        "outputs": 2,
      },
      "name": "asplit",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
    },
    "filter-areverse-7" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
      "inputs": [
        {
          "__class__": "AVStream",
          "index": null,
          "node": {
            "__class__": "InputNode",
            "filename": "input2.mp4",
            "inputs": [],
            "kwargs": {},
          },
        },
      ],
      "kwargs": {},
      "name": "areverse",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
    },
    "input-8" => {
      "__class__": "InputNode",
      "filename": "input2.mp4",
      "inputs": [],
      "kwargs": {},
    },
    "filter-split-9" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
      "inputs": [
        {
          "__class__": "VideoStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
            "inputs": [
              {
                "__class__": "AVStream",
                "index": null,
                "node": {
                  "__class__": "InputNode",
                  "filename": "input1.mp4",
                  "inputs": [],
                  "kwargs": {},
                },
              },
            ],
            "kwargs": {},
            "name": "reverse",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
          },
        },
      ],
      "kwargs": {
        "outputs": 2,
      },
      "name": "split",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
    },
    "filter-reverse-10" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
      "inputs": [
        {
          "__class__": "AVStream",
          "index": null,
          "node": {
            "__class__": "InputNode",
            "filename": "input1.mp4",
            "inputs": [],
            "kwargs": {},
          },
        },
      ],
      "kwargs": {},
      "name": "reverse",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
    },
    "input-11" => {
      "__class__": "InputNode",
      "filename": "input1.mp4",
      "inputs": [],
      "kwargs": {},
    },
    "filter-asplit-12" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
      "inputs": [
        {
          "__class__": "AudioStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
            "inputs": [
              {
                "__class__": "AVStream",
                "index": null,
                "node": {
                  "__class__": "InputNode",
                  "filename": "input2.mp4",
                  "inputs": [],
                  "kwargs": {},
                },
              },
            ],
            "kwargs": {},
            "name": "areverse",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
          },
        },
      ],
      "kwargs": {
        "outputs": 2,
      },
      "name": "asplit",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
    },
    "filter-areverse-13" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
      "inputs": [
        {
          "__class__": "AVStream",
          "index": null,
          "node": {
            "__class__": "InputNode",
            "filename": "input2.mp4",
            "inputs": [],
            "kwargs": {},
          },
        },
      ],
      "kwargs": {},
      "name": "areverse",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
    },
    "input-14" => {
      "__class__": "InputNode",
      "filename": "input2.mp4",
      "inputs": [],
      "kwargs": {},
    },
    "filter-concat-15" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
        {
          "__class__": "StreamType",
          "value": "audio",
        },
        {
          "__class__": "StreamType",
          "value": "video",
        },
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
      "inputs": [
        {
          "__class__": "VideoStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
            "inputs": [
              {
                "__class__": "VideoStream",
                "index": 0,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "AVStream",
                      "index": null,
                      "node": {
                        "__class__": "InputNode",
                        "filename": "input1.mp4",
                        "inputs": [],
                        "kwargs": {},
                      },
                    },
                  ],
                  "kwargs": {},
                  "name": "reverse",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                },
              },
            ],
            "kwargs": {
              "outputs": 2,
            },
            "name": "split",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
          },
        },
        {
          "__class__": "AudioStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
            "inputs": [
              {
                "__class__": "AudioStream",
                "index": 0,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "AVStream",
                      "index": null,
                      "node": {
                        "__class__": "InputNode",
                        "filename": "input2.mp4",
                        "inputs": [],
                        "kwargs": {},
                      },
                    },
                  ],
                  "kwargs": {},
                  "name": "areverse",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                },
              },
            ],
            "kwargs": {
              "outputs": 2,
            },
            "name": "asplit",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
          },
        },
        {
          "__class__": "VideoStream",
          "index": 1,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
            "inputs": [
              {
                "__class__": "VideoStream",
                "index": 0,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "AVStream",
                      "index": null,
                      "node": {
                        "__class__": "InputNode",
                        "filename": "input1.mp4",
                        "inputs": [],
                        "kwargs": {},
                      },
                    },
                  ],
                  "kwargs": {},
                  "name": "reverse",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                },
              },
            ],
            "kwargs": {
              "outputs": 2,
            },
            "name": "split",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
          },
        },
        {
          "__class__": "AudioStream",
          "index": 1,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
            "inputs": [
              {
                "__class__": "AudioStream",
                "index": 0,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "AVStream",
                      "index": null,
                      "node": {
                        "__class__": "InputNode",
                        "filename": "input2.mp4",
                        "inputs": [],
                        "kwargs": {},
                      },
                    },
                  ],
                  "kwargs": {},
                  "name": "areverse",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "audio",
                    },
                  ],
                },
              },
            ],
            "kwargs": {
              "outputs": 2,
            },
            "name": "asplit",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
          },
        },
      ],
      "kwargs": {
        "a": 1,
        "n": 2,
        "v": 1,
      },
      "name": "concat",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
    },
    "filter-split-16" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
      "inputs": [
        {
          "__class__": "VideoStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
            "inputs": [
              {
                "__class__": "AVStream",
                "index": null,
                "node": {
                  "__class__": "InputNode",
                  "filename": "input1.mp4",
                  "inputs": [],
                  "kwargs": {},
                },
              },
            ],
            "kwargs": {},
            "name": "reverse",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
          },
        },
      ],
      "kwargs": {
        "outputs": 2,
      },
      "name": "split",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
    },
    "filter-reverse-17" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
      "inputs": [
        {
          "__class__": "AVStream",
          "index": null,
          "node": {
            "__class__": "InputNode",
            "filename": "input1.mp4",
            "inputs": [],
            "kwargs": {},
          },
        },
      ],
      "kwargs": {},
      "name": "reverse",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
    },
    "input-18" => {
      "__class__": "InputNode",
      "filename": "input1.mp4",
      "inputs": [],
      "kwargs": {},
    },
    "filter-asplit-19" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
      "inputs": [
        {
          "__class__": "AudioStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
            "inputs": [
              {
                "__class__": "AVStream",
                "index": null,
                "node": {
                  "__class__": "InputNode",
                  "filename": "input2.mp4",
                  "inputs": [],
                  "kwargs": {},
                },
              },
            ],
            "kwargs": {},
            "name": "areverse",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
          },
        },
      ],
      "kwargs": {
        "outputs": 2,
      },
      "name": "asplit",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
    },
    "filter-areverse-20" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
      "inputs": [
        {
          "__class__": "AVStream",
          "index": null,
          "node": {
            "__class__": "InputNode",
            "filename": "input2.mp4",
            "inputs": [],
            "kwargs": {},
          },
        },
      ],
      "kwargs": {},
      "name": "areverse",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
    },
    "input-21" => {
      "__class__": "InputNode",
      "filename": "input2.mp4",
      "inputs": [],
      "kwargs": {},
    },
    "filter-split-22" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
      "inputs": [
        {
          "__class__": "VideoStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
            "inputs": [
              {
                "__class__": "AVStream",
                "index": null,
                "node": {
                  "__class__": "InputNode",
                  "filename": "input1.mp4",
                  "inputs": [],
                  "kwargs": {},
                },
              },
            ],
            "kwargs": {},
            "name": "reverse",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
          },
        },
      ],
      "kwargs": {
        "outputs": 2,
      },
      "name": "split",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
    },
    "filter-reverse-23" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
      "inputs": [
        {
          "__class__": "AVStream",
          "index": null,
          "node": {
            "__class__": "InputNode",
            "filename": "input1.mp4",
            "inputs": [],
            "kwargs": {},
          },
        },
      ],
      "kwargs": {},
      "name": "reverse",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
    },
    "input-24" => {
      "__class__": "InputNode",
      "filename": "input1.mp4",
      "inputs": [],
      "kwargs": {},
    },
    "filter-asplit-25" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
      "inputs": [
        {
          "__class__": "AudioStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
            "inputs": [
              {
                "__class__": "AVStream",
                "index": null,
                "node": {
                  "__class__": "InputNode",
                  "filename": "input2.mp4",
                  "inputs": [],
                  "kwargs": {},
                },
              },
            ],
            "kwargs": {},
            "name": "areverse",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "audio",
              },
            ],
          },
        },
      ],
      "kwargs": {
        "outputs": 2,
      },
      "name": "asplit",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
    },
    "filter-areverse-26" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
      "inputs": [
        {
          "__class__": "AVStream",
          "index": null,
          "node": {
            "__class__": "InputNode",
            "filename": "input2.mp4",
            "inputs": [],
            "kwargs": {},
          },
        },
      ],
      "kwargs": {},
      "name": "areverse",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "audio",
        },
      ],
    },
    "input-27" => {
      "__class__": "InputNode",
      "filename": "input2.mp4",
      "inputs": [],
      "kwargs": {},
    },
  },
}
`;

exports[`Node Mapping > should handle 'test_compile_json[complex-stream][comâ€¦' case 2`] = `
{
  "edgeMap": Map {
    "edge-input-5-0-filter-reverse-4-0" => {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    },
    "edge-filter-reverse-4-0-filter-split-3-0" => {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "reverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    },
    "edge-filter-split-3-0-filter-concat-2-0" => {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "reverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "split",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    },
    "edge-input-8-0-filter-areverse-7-0" => {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input2.mp4",
        "inputs": [],
        "kwargs": {},
      },
    },
    "edge-filter-areverse-7-0-filter-asplit-6-0" => {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input2.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "areverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    },
    "edge-filter-asplit-6-0-filter-concat-2-1" => {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input2.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "areverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "asplit",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    },
    "edge-input-11-0-filter-reverse-10-0" => {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    },
    "edge-filter-reverse-10-0-filter-split-9-0" => {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "reverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    },
    "edge-filter-split-9-1-filter-concat-2-2" => {
      "__class__": "VideoStream",
      "index": 1,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "reverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "split",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    },
    "edge-input-14-0-filter-areverse-13-0" => {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input2.mp4",
        "inputs": [],
        "kwargs": {},
      },
    },
    "edge-filter-areverse-13-0-filter-asplit-12-0" => {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input2.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "areverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    },
    "edge-filter-asplit-12-1-filter-concat-2-3" => {
      "__class__": "AudioStream",
      "index": 1,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input2.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "areverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "asplit",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    },
    "edge-filter-concat-2-0-output-1-0" => {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "VideoStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "reverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "split",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AudioStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input2.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "areverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "asplit",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
          {
            "__class__": "VideoStream",
            "index": 1,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "VideoStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "reverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "split",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
          {
            "__class__": "AudioStream",
            "index": 1,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AudioStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input2.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "areverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "asplit",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "a": 1,
          "n": 2,
          "v": 1,
        },
        "name": "concat",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    },
    "edge-input-18-0-filter-reverse-17-0" => {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    },
    "edge-filter-reverse-17-0-filter-split-16-0" => {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "reverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    },
    "edge-filter-split-16-0-filter-concat-15-0" => {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "reverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "split",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    },
    "edge-input-21-0-filter-areverse-20-0" => {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input2.mp4",
        "inputs": [],
        "kwargs": {},
      },
    },
    "edge-filter-areverse-20-0-filter-asplit-19-0" => {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input2.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "areverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    },
    "edge-filter-asplit-19-0-filter-concat-15-1" => {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input2.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "areverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "asplit",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    },
    "edge-input-24-0-filter-reverse-23-0" => {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    },
    "edge-filter-reverse-23-0-filter-split-22-0" => {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "reverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    },
    "edge-filter-split-22-1-filter-concat-15-2" => {
      "__class__": "VideoStream",
      "index": 1,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "reverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "split",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    },
    "edge-input-27-0-filter-areverse-26-0" => {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input2.mp4",
        "inputs": [],
        "kwargs": {},
      },
    },
    "edge-filter-areverse-26-0-filter-asplit-25-0" => {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input2.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "areverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    },
    "edge-filter-asplit-25-1-filter-concat-15-3" => {
      "__class__": "AudioStream",
      "index": 1,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input2.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "areverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "asplit",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    },
    "edge-filter-concat-15-1-output-1-1" => {
      "__class__": "AudioStream",
      "index": 1,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "VideoStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "reverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "split",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AudioStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input2.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "areverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "asplit",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
          {
            "__class__": "VideoStream",
            "index": 1,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "VideoStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "reverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "split",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
          {
            "__class__": "AudioStream",
            "index": 1,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AudioStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input2.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "areverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "asplit",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "a": 1,
          "n": 2,
          "v": 1,
        },
        "name": "concat",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    },
  },
  "reverseMap": Map {
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => "edge-input-5-0-filter-reverse-4-0",
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "reverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => "edge-filter-reverse-4-0-filter-split-3-0",
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "reverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "split",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => "edge-filter-split-3-0-filter-concat-2-0",
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input2.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => "edge-input-8-0-filter-areverse-7-0",
    {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input2.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "areverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => "edge-filter-areverse-7-0-filter-asplit-6-0",
    {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input2.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "areverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "asplit",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => "edge-filter-asplit-6-0-filter-concat-2-1",
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => "edge-input-11-0-filter-reverse-10-0",
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "reverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => "edge-filter-reverse-10-0-filter-split-9-0",
    {
      "__class__": "VideoStream",
      "index": 1,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "reverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "split",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => "edge-filter-split-9-1-filter-concat-2-2",
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input2.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => "edge-input-14-0-filter-areverse-13-0",
    {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input2.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "areverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => "edge-filter-areverse-13-0-filter-asplit-12-0",
    {
      "__class__": "AudioStream",
      "index": 1,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input2.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "areverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "asplit",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => "edge-filter-asplit-12-1-filter-concat-2-3",
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "VideoStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "reverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "split",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AudioStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input2.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "areverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "asplit",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
          {
            "__class__": "VideoStream",
            "index": 1,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "VideoStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "reverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "split",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
          {
            "__class__": "AudioStream",
            "index": 1,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AudioStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input2.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "areverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "asplit",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "a": 1,
          "n": 2,
          "v": 1,
        },
        "name": "concat",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => "edge-filter-concat-2-0-output-1-0",
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => "edge-input-18-0-filter-reverse-17-0",
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "reverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => "edge-filter-reverse-17-0-filter-split-16-0",
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "reverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "split",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => "edge-filter-split-16-0-filter-concat-15-0",
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input2.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => "edge-input-21-0-filter-areverse-20-0",
    {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input2.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "areverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => "edge-filter-areverse-20-0-filter-asplit-19-0",
    {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input2.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "areverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "asplit",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => "edge-filter-asplit-19-0-filter-concat-15-1",
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => "edge-input-24-0-filter-reverse-23-0",
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "reverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => "edge-filter-reverse-23-0-filter-split-22-0",
    {
      "__class__": "VideoStream",
      "index": 1,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "reverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "split",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => "edge-filter-split-22-1-filter-concat-15-2",
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input2.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => "edge-input-27-0-filter-areverse-26-0",
    {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input2.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "areverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => "edge-filter-areverse-26-0-filter-asplit-25-0",
    {
      "__class__": "AudioStream",
      "index": 1,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input2.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "areverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "asplit",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => "edge-filter-asplit-25-1-filter-concat-15-3",
    {
      "__class__": "AudioStream",
      "index": 1,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "VideoStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "reverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "split",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AudioStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input2.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "areverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "asplit",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
          {
            "__class__": "VideoStream",
            "index": 1,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "VideoStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "reverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "split",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
          {
            "__class__": "AudioStream",
            "index": 1,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AudioStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input2.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "areverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "asplit",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "a": 1,
          "n": 2,
          "v": 1,
        },
        "name": "concat",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => "edge-filter-concat-15-1-output-1-1",
  },
  "targetMap": Map {
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => {
      "index": 0,
      "nodeId": "filter-reverse-4",
    },
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "reverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "filter-split-3",
    },
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "reverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "split",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "filter-concat-2",
    },
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input2.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => {
      "index": 0,
      "nodeId": "filter-areverse-7",
    },
    {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input2.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "areverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "filter-asplit-6",
    },
    {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input2.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "areverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "asplit",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => {
      "index": 1,
      "nodeId": "filter-concat-2",
    },
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => {
      "index": 0,
      "nodeId": "filter-reverse-10",
    },
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "reverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "filter-split-9",
    },
    {
      "__class__": "VideoStream",
      "index": 1,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "reverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "split",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => {
      "index": 2,
      "nodeId": "filter-concat-2",
    },
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input2.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => {
      "index": 0,
      "nodeId": "filter-areverse-13",
    },
    {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input2.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "areverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "filter-asplit-12",
    },
    {
      "__class__": "AudioStream",
      "index": 1,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input2.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "areverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "asplit",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => {
      "index": 3,
      "nodeId": "filter-concat-2",
    },
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "VideoStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "reverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "split",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AudioStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input2.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "areverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "asplit",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
          {
            "__class__": "VideoStream",
            "index": 1,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "VideoStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "reverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "split",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
          {
            "__class__": "AudioStream",
            "index": 1,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AudioStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input2.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "areverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "asplit",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "a": 1,
          "n": 2,
          "v": 1,
        },
        "name": "concat",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "output-1",
    },
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => {
      "index": 0,
      "nodeId": "filter-reverse-17",
    },
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "reverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "filter-split-16",
    },
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "reverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "split",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "filter-concat-15",
    },
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input2.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => {
      "index": 0,
      "nodeId": "filter-areverse-20",
    },
    {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input2.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "areverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "filter-asplit-19",
    },
    {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input2.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "areverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "asplit",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => {
      "index": 1,
      "nodeId": "filter-concat-15",
    },
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => {
      "index": 0,
      "nodeId": "filter-reverse-23",
    },
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "reverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "filter-split-22",
    },
    {
      "__class__": "VideoStream",
      "index": 1,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "reverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "split",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => {
      "index": 2,
      "nodeId": "filter-concat-15",
    },
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input2.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => {
      "index": 0,
      "nodeId": "filter-areverse-26",
    },
    {
      "__class__": "AudioStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input2.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "areverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "filter-asplit-25",
    },
    {
      "__class__": "AudioStream",
      "index": 1,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input2.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "areverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "asplit",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => {
      "index": 3,
      "nodeId": "filter-concat-15",
    },
    {
      "__class__": "AudioStream",
      "index": 1,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "VideoStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "reverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "split",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
          {
            "__class__": "AudioStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AudioStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input2.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "areverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "asplit",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
          {
            "__class__": "VideoStream",
            "index": 1,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "VideoStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "reverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "split",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
          {
            "__class__": "AudioStream",
            "index": 1,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
              "inputs": [
                {
                  "__class__": "AudioStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input2.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "areverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "audio",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "asplit",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
                {
                  "__class__": "StreamType",
                  "value": "audio",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "a": 1,
          "n": 2,
          "v": 1,
        },
        "name": "concat",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "audio",
          },
        ],
      },
    } => {
      "index": 1,
      "nodeId": "output-1",
    },
  },
}
`;

exports[`Node Mapping > should handle 'test_compile_json[complex-stream][comâ€¦' case 3`] = `"{"kwargs":{},"inputs":[],"__class__":"GlobalNode"}"`;

exports[`Node Mapping > should handle 'test_compile_json[global-args][compilâ€¦' case 1`] = `
{
  "nodeMap": Map {
    "global-0" => {
      "__class__": "GlobalNode",
      "inputs": [
        {
          "__class__": "OutputStream",
          "index": 0,
          "node": {
            "__class__": "OutputNode",
            "filename": "tmp.mp4",
            "inputs": [
              {
                "__class__": "AVStream",
                "index": null,
                "node": {
                  "__class__": "InputNode",
                  "filename": "input1.mp4",
                  "inputs": [],
                  "kwargs": {},
                },
              },
            ],
            "kwargs": {},
          },
        },
      ],
      "kwargs": {
        "hide_banner": true,
      },
    },
    "output-1" => {
      "__class__": "OutputNode",
      "filename": "tmp.mp4",
      "inputs": [
        {
          "__class__": "AVStream",
          "index": null,
          "node": {
            "__class__": "InputNode",
            "filename": "input1.mp4",
            "inputs": [],
            "kwargs": {},
          },
        },
      ],
      "kwargs": {},
    },
    "input-2" => {
      "__class__": "InputNode",
      "filename": "input1.mp4",
      "inputs": [],
      "kwargs": {},
    },
  },
}
`;

exports[`Node Mapping > should handle 'test_compile_json[global-args][compilâ€¦' case 2`] = `
{
  "edgeMap": Map {
    "edge-input-2-0-output-1-0" => {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    },
    "edge-output-1-0-global-0-0" => {
      "__class__": "OutputStream",
      "index": 0,
      "node": {
        "__class__": "OutputNode",
        "filename": "tmp.mp4",
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
      },
    },
  },
  "reverseMap": Map {
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => "edge-input-2-0-output-1-0",
    {
      "__class__": "OutputStream",
      "index": 0,
      "node": {
        "__class__": "OutputNode",
        "filename": "tmp.mp4",
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
      },
    } => "edge-output-1-0-global-0-0",
  },
  "targetMap": Map {
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => {
      "index": 0,
      "nodeId": "output-1",
    },
    {
      "__class__": "OutputStream",
      "index": 0,
      "node": {
        "__class__": "OutputNode",
        "filename": "tmp.mp4",
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
      },
    } => {
      "index": 0,
      "nodeId": "global-0",
    },
  },
}
`;

exports[`Node Mapping > should handle 'test_compile_json[global-args][compilâ€¦' case 3`] = `"{"kwargs":{"hide_banner":true},"inputs":[{"node":{"kwargs":{},"inputs":[{"node":{"kwargs":{},"inputs":[],"filename":"input1.mp4","__class__":"InputNode"},"index":null,"__class__":"AVStream"}],"filename":"tmp.mp4","__class__":"OutputNode"},"index":0,"__class__":"OutputStream"}],"__class__":"GlobalNode"}"`;

exports[`Node Mapping > should handle 'test_compile_json[global-args-2][compâ€¦' case 1`] = `
{
  "nodeMap": Map {
    "global-0" => {
      "__class__": "GlobalNode",
      "inputs": [
        {
          "__class__": "OutputStream",
          "index": 0,
          "node": {
            "__class__": "OutputNode",
            "filename": "tmp.mp4",
            "inputs": [
              {
                "__class__": "AVStream",
                "index": null,
                "node": {
                  "__class__": "InputNode",
                  "filename": "input1.mp4",
                  "inputs": [],
                  "kwargs": {},
                },
              },
            ],
            "kwargs": {},
          },
        },
      ],
      "kwargs": {
        "dump": true,
        "hide_banner": true,
      },
    },
    "output-1" => {
      "__class__": "OutputNode",
      "filename": "tmp.mp4",
      "inputs": [
        {
          "__class__": "AVStream",
          "index": null,
          "node": {
            "__class__": "InputNode",
            "filename": "input1.mp4",
            "inputs": [],
            "kwargs": {},
          },
        },
      ],
      "kwargs": {},
    },
    "input-2" => {
      "__class__": "InputNode",
      "filename": "input1.mp4",
      "inputs": [],
      "kwargs": {},
    },
  },
}
`;

exports[`Node Mapping > should handle 'test_compile_json[global-args-2][compâ€¦' case 2`] = `
{
  "edgeMap": Map {
    "edge-input-2-0-output-1-0" => {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    },
    "edge-output-1-0-global-0-0" => {
      "__class__": "OutputStream",
      "index": 0,
      "node": {
        "__class__": "OutputNode",
        "filename": "tmp.mp4",
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
      },
    },
  },
  "reverseMap": Map {
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => "edge-input-2-0-output-1-0",
    {
      "__class__": "OutputStream",
      "index": 0,
      "node": {
        "__class__": "OutputNode",
        "filename": "tmp.mp4",
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
      },
    } => "edge-output-1-0-global-0-0",
  },
  "targetMap": Map {
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => {
      "index": 0,
      "nodeId": "output-1",
    },
    {
      "__class__": "OutputStream",
      "index": 0,
      "node": {
        "__class__": "OutputNode",
        "filename": "tmp.mp4",
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
      },
    } => {
      "index": 0,
      "nodeId": "global-0",
    },
  },
}
`;

exports[`Node Mapping > should handle 'test_compile_json[global-args-2][compâ€¦' case 3`] = `"{"kwargs":{"dump":true,"hide_banner":true},"inputs":[{"node":{"kwargs":{},"inputs":[{"node":{"kwargs":{},"inputs":[],"filename":"input1.mp4","__class__":"InputNode"},"index":null,"__class__":"AVStream"}],"filename":"tmp.mp4","__class__":"OutputNode"},"index":0,"__class__":"OutputStream"}],"__class__":"GlobalNode"}"`;

exports[`Node Mapping > should handle 'test_compile_json[merged-output-1][coâ€¦' case 1`] = `
{
  "nodeMap": Map {
    "global-0" => {
      "__class__": "GlobalNode",
      "inputs": [
        {
          "__class__": "OutputStream",
          "index": 0,
          "node": {
            "__class__": "OutputNode",
            "filename": "output1.mp4",
            "inputs": [
              {
                "__class__": "AVStream",
                "index": null,
                "node": {
                  "__class__": "InputNode",
                  "filename": "input1.mp4",
                  "inputs": [],
                  "kwargs": {},
                },
              },
            ],
            "kwargs": {},
          },
        },
        {
          "__class__": "OutputStream",
          "index": 1,
          "node": {
            "__class__": "OutputNode",
            "filename": "output2.mp4",
            "inputs": [
              {
                "__class__": "AVStream",
                "index": null,
                "node": {
                  "__class__": "InputNode",
                  "filename": "input2.mp4",
                  "inputs": [],
                  "kwargs": {},
                },
              },
            ],
            "kwargs": {},
          },
        },
      ],
      "kwargs": {
        "dump": true,
      },
    },
    "output-1" => {
      "__class__": "OutputNode",
      "filename": "output1.mp4",
      "inputs": [
        {
          "__class__": "AVStream",
          "index": null,
          "node": {
            "__class__": "InputNode",
            "filename": "input1.mp4",
            "inputs": [],
            "kwargs": {},
          },
        },
      ],
      "kwargs": {},
    },
    "input-2" => {
      "__class__": "InputNode",
      "filename": "input1.mp4",
      "inputs": [],
      "kwargs": {},
    },
    "output-3" => {
      "__class__": "OutputNode",
      "filename": "output2.mp4",
      "inputs": [
        {
          "__class__": "AVStream",
          "index": null,
          "node": {
            "__class__": "InputNode",
            "filename": "input2.mp4",
            "inputs": [],
            "kwargs": {},
          },
        },
      ],
      "kwargs": {},
    },
    "input-4" => {
      "__class__": "InputNode",
      "filename": "input2.mp4",
      "inputs": [],
      "kwargs": {},
    },
  },
}
`;

exports[`Node Mapping > should handle 'test_compile_json[merged-output-1][coâ€¦' case 2`] = `
{
  "edgeMap": Map {
    "edge-input-2-0-output-1-0" => {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    },
    "edge-output-1-0-global-0-0" => {
      "__class__": "OutputStream",
      "index": 0,
      "node": {
        "__class__": "OutputNode",
        "filename": "output1.mp4",
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
      },
    },
    "edge-input-4-0-output-3-0" => {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input2.mp4",
        "inputs": [],
        "kwargs": {},
      },
    },
    "edge-output-3-0-global-0-1" => {
      "__class__": "OutputStream",
      "index": 1,
      "node": {
        "__class__": "OutputNode",
        "filename": "output2.mp4",
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input2.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
      },
    },
  },
  "reverseMap": Map {
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => "edge-input-2-0-output-1-0",
    {
      "__class__": "OutputStream",
      "index": 0,
      "node": {
        "__class__": "OutputNode",
        "filename": "output1.mp4",
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
      },
    } => "edge-output-1-0-global-0-0",
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input2.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => "edge-input-4-0-output-3-0",
    {
      "__class__": "OutputStream",
      "index": 1,
      "node": {
        "__class__": "OutputNode",
        "filename": "output2.mp4",
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input2.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
      },
    } => "edge-output-3-0-global-0-1",
  },
  "targetMap": Map {
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => {
      "index": 0,
      "nodeId": "output-1",
    },
    {
      "__class__": "OutputStream",
      "index": 0,
      "node": {
        "__class__": "OutputNode",
        "filename": "output1.mp4",
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
      },
    } => {
      "index": 0,
      "nodeId": "global-0",
    },
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input2.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => {
      "index": 0,
      "nodeId": "output-3",
    },
    {
      "__class__": "OutputStream",
      "index": 1,
      "node": {
        "__class__": "OutputNode",
        "filename": "output2.mp4",
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input2.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
      },
    } => {
      "index": 1,
      "nodeId": "global-0",
    },
  },
}
`;

exports[`Node Mapping > should handle 'test_compile_json[merged-output-1][coâ€¦' case 3`] = `"{"kwargs":{"dump":true},"inputs":[{"node":{"kwargs":{},"inputs":[{"node":{"kwargs":{},"inputs":[],"filename":"input1.mp4","__class__":"InputNode"},"index":null,"__class__":"AVStream"}],"filename":"output1.mp4","__class__":"OutputNode"},"index":0,"__class__":"OutputStream"},{"node":{"kwargs":{},"inputs":[{"node":{"kwargs":{},"inputs":[],"filename":"input2.mp4","__class__":"InputNode"},"index":null,"__class__":"AVStream"}],"filename":"output2.mp4","__class__":"OutputNode"},"index":1,"__class__":"OutputStream"}],"__class__":"GlobalNode"}"`;

exports[`Node Mapping > should handle 'test_compile_json[multi-output-filterâ€¦' case 1`] = `
{
  "nodeMap": Map {
    "global-0" => {
      "__class__": "GlobalNode",
      "inputs": [
        {
          "__class__": "OutputStream",
          "index": 0,
          "node": {
            "__class__": "OutputNode",
            "filename": "output1.mp4",
            "inputs": [
              {
                "__class__": "VideoStream",
                "index": 0,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "VideoStream",
                      "index": 0,
                      "node": {
                        "__class__": "FilterNode",
                        "input_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "video",
                          },
                          {
                            "__class__": "StreamType",
                            "value": "video",
                          },
                        ],
                        "inputs": [
                          {
                            "__class__": "AVStream",
                            "index": null,
                            "node": {
                              "__class__": "InputNode",
                              "filename": "input1.mp4",
                              "inputs": [],
                              "kwargs": {},
                            },
                          },
                          {
                            "__class__": "AVStream",
                            "index": null,
                            "node": {
                              "__class__": "InputNode",
                              "filename": "input2.mp4",
                              "inputs": [],
                              "kwargs": {},
                            },
                          },
                        ],
                        "kwargs": {},
                        "name": "feedback",
                        "output_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "video",
                          },
                          {
                            "__class__": "StreamType",
                            "value": "video",
                          },
                        ],
                      },
                    },
                  ],
                  "kwargs": {
                    "fontsize": 12,
                    "text": "Hello World",
                    "x": 10,
                    "y": 10,
                  },
                  "name": "drawtext",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                },
              },
            ],
            "kwargs": {},
          },
        },
        {
          "__class__": "OutputStream",
          "index": 1,
          "node": {
            "__class__": "OutputNode",
            "filename": "output2.mp4",
            "inputs": [
              {
                "__class__": "VideoStream",
                "index": 0,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "VideoStream",
                      "index": 1,
                      "node": {
                        "__class__": "FilterNode",
                        "input_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "video",
                          },
                          {
                            "__class__": "StreamType",
                            "value": "video",
                          },
                        ],
                        "inputs": [
                          {
                            "__class__": "AVStream",
                            "index": null,
                            "node": {
                              "__class__": "InputNode",
                              "filename": "input1.mp4",
                              "inputs": [],
                              "kwargs": {},
                            },
                          },
                          {
                            "__class__": "AVStream",
                            "index": null,
                            "node": {
                              "__class__": "InputNode",
                              "filename": "input2.mp4",
                              "inputs": [],
                              "kwargs": {},
                            },
                          },
                        ],
                        "kwargs": {},
                        "name": "feedback",
                        "output_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "video",
                          },
                          {
                            "__class__": "StreamType",
                            "value": "video",
                          },
                        ],
                      },
                    },
                  ],
                  "kwargs": {
                    "fontsize": 12,
                    "text": "Hello World",
                    "x": 10,
                    "y": 10,
                  },
                  "name": "drawtext",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                },
              },
            ],
            "kwargs": {},
          },
        },
      ],
      "kwargs": {},
    },
    "output-1" => {
      "__class__": "OutputNode",
      "filename": "output1.mp4",
      "inputs": [
        {
          "__class__": "VideoStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
            "inputs": [
              {
                "__class__": "VideoStream",
                "index": 0,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "AVStream",
                      "index": null,
                      "node": {
                        "__class__": "InputNode",
                        "filename": "input1.mp4",
                        "inputs": [],
                        "kwargs": {},
                      },
                    },
                    {
                      "__class__": "AVStream",
                      "index": null,
                      "node": {
                        "__class__": "InputNode",
                        "filename": "input2.mp4",
                        "inputs": [],
                        "kwargs": {},
                      },
                    },
                  ],
                  "kwargs": {},
                  "name": "feedback",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                },
              },
            ],
            "kwargs": {
              "fontsize": 12,
              "text": "Hello World",
              "x": 10,
              "y": 10,
            },
            "name": "drawtext",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
          },
        },
      ],
      "kwargs": {},
    },
    "filter-drawtext-2" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
      "inputs": [
        {
          "__class__": "VideoStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
            "inputs": [
              {
                "__class__": "AVStream",
                "index": null,
                "node": {
                  "__class__": "InputNode",
                  "filename": "input1.mp4",
                  "inputs": [],
                  "kwargs": {},
                },
              },
              {
                "__class__": "AVStream",
                "index": null,
                "node": {
                  "__class__": "InputNode",
                  "filename": "input2.mp4",
                  "inputs": [],
                  "kwargs": {},
                },
              },
            ],
            "kwargs": {},
            "name": "feedback",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
          },
        },
      ],
      "kwargs": {
        "fontsize": 12,
        "text": "Hello World",
        "x": 10,
        "y": 10,
      },
      "name": "drawtext",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
    },
    "filter-feedback-3" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
      "inputs": [
        {
          "__class__": "AVStream",
          "index": null,
          "node": {
            "__class__": "InputNode",
            "filename": "input1.mp4",
            "inputs": [],
            "kwargs": {},
          },
        },
        {
          "__class__": "AVStream",
          "index": null,
          "node": {
            "__class__": "InputNode",
            "filename": "input2.mp4",
            "inputs": [],
            "kwargs": {},
          },
        },
      ],
      "kwargs": {},
      "name": "feedback",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
    },
    "input-4" => {
      "__class__": "InputNode",
      "filename": "input1.mp4",
      "inputs": [],
      "kwargs": {},
    },
    "input-5" => {
      "__class__": "InputNode",
      "filename": "input2.mp4",
      "inputs": [],
      "kwargs": {},
    },
    "output-6" => {
      "__class__": "OutputNode",
      "filename": "output2.mp4",
      "inputs": [
        {
          "__class__": "VideoStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
            "inputs": [
              {
                "__class__": "VideoStream",
                "index": 1,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "AVStream",
                      "index": null,
                      "node": {
                        "__class__": "InputNode",
                        "filename": "input1.mp4",
                        "inputs": [],
                        "kwargs": {},
                      },
                    },
                    {
                      "__class__": "AVStream",
                      "index": null,
                      "node": {
                        "__class__": "InputNode",
                        "filename": "input2.mp4",
                        "inputs": [],
                        "kwargs": {},
                      },
                    },
                  ],
                  "kwargs": {},
                  "name": "feedback",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                },
              },
            ],
            "kwargs": {
              "fontsize": 12,
              "text": "Hello World",
              "x": 10,
              "y": 10,
            },
            "name": "drawtext",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
          },
        },
      ],
      "kwargs": {},
    },
    "filter-drawtext-7" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
      "inputs": [
        {
          "__class__": "VideoStream",
          "index": 1,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
            "inputs": [
              {
                "__class__": "AVStream",
                "index": null,
                "node": {
                  "__class__": "InputNode",
                  "filename": "input1.mp4",
                  "inputs": [],
                  "kwargs": {},
                },
              },
              {
                "__class__": "AVStream",
                "index": null,
                "node": {
                  "__class__": "InputNode",
                  "filename": "input2.mp4",
                  "inputs": [],
                  "kwargs": {},
                },
              },
            ],
            "kwargs": {},
            "name": "feedback",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
          },
        },
      ],
      "kwargs": {
        "fontsize": 12,
        "text": "Hello World",
        "x": 10,
        "y": 10,
      },
      "name": "drawtext",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
    },
    "filter-feedback-8" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
      "inputs": [
        {
          "__class__": "AVStream",
          "index": null,
          "node": {
            "__class__": "InputNode",
            "filename": "input1.mp4",
            "inputs": [],
            "kwargs": {},
          },
        },
        {
          "__class__": "AVStream",
          "index": null,
          "node": {
            "__class__": "InputNode",
            "filename": "input2.mp4",
            "inputs": [],
            "kwargs": {},
          },
        },
      ],
      "kwargs": {},
      "name": "feedback",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
    },
    "input-9" => {
      "__class__": "InputNode",
      "filename": "input1.mp4",
      "inputs": [],
      "kwargs": {},
    },
    "input-10" => {
      "__class__": "InputNode",
      "filename": "input2.mp4",
      "inputs": [],
      "kwargs": {},
    },
  },
}
`;

exports[`Node Mapping > should handle 'test_compile_json[multi-output-filterâ€¦' case 2`] = `
{
  "edgeMap": Map {
    "edge-input-4-0-filter-feedback-3-0" => {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    },
    "edge-input-5-0-filter-feedback-3-1" => {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input2.mp4",
        "inputs": [],
        "kwargs": {},
      },
    },
    "edge-filter-feedback-3-0-filter-drawtext-2-0" => {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input2.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "feedback",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    },
    "edge-filter-drawtext-2-0-output-1-0" => {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input2.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "feedback",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "fontsize": 12,
          "text": "Hello World",
          "x": 10,
          "y": 10,
        },
        "name": "drawtext",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    },
    "edge-output-1-0-global-0-0" => {
      "__class__": "OutputStream",
      "index": 0,
      "node": {
        "__class__": "OutputNode",
        "filename": "output1.mp4",
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "VideoStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input2.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "feedback",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "fontsize": 12,
                "text": "Hello World",
                "x": 10,
                "y": 10,
              },
              "name": "drawtext",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {},
      },
    },
    "edge-input-9-0-filter-feedback-8-0" => {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    },
    "edge-input-10-0-filter-feedback-8-1" => {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input2.mp4",
        "inputs": [],
        "kwargs": {},
      },
    },
    "edge-filter-feedback-8-1-filter-drawtext-7-0" => {
      "__class__": "VideoStream",
      "index": 1,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input2.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "feedback",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    },
    "edge-filter-drawtext-7-0-output-6-0" => {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 1,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input2.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "feedback",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "fontsize": 12,
          "text": "Hello World",
          "x": 10,
          "y": 10,
        },
        "name": "drawtext",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    },
    "edge-output-6-0-global-0-1" => {
      "__class__": "OutputStream",
      "index": 1,
      "node": {
        "__class__": "OutputNode",
        "filename": "output2.mp4",
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "VideoStream",
                  "index": 1,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input2.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "feedback",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "fontsize": 12,
                "text": "Hello World",
                "x": 10,
                "y": 10,
              },
              "name": "drawtext",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {},
      },
    },
  },
  "reverseMap": Map {
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => "edge-input-4-0-filter-feedback-3-0",
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input2.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => "edge-input-5-0-filter-feedback-3-1",
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input2.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "feedback",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => "edge-filter-feedback-3-0-filter-drawtext-2-0",
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input2.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "feedback",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "fontsize": 12,
          "text": "Hello World",
          "x": 10,
          "y": 10,
        },
        "name": "drawtext",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => "edge-filter-drawtext-2-0-output-1-0",
    {
      "__class__": "OutputStream",
      "index": 0,
      "node": {
        "__class__": "OutputNode",
        "filename": "output1.mp4",
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "VideoStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input2.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "feedback",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "fontsize": 12,
                "text": "Hello World",
                "x": 10,
                "y": 10,
              },
              "name": "drawtext",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {},
      },
    } => "edge-output-1-0-global-0-0",
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => "edge-input-9-0-filter-feedback-8-0",
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input2.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => "edge-input-10-0-filter-feedback-8-1",
    {
      "__class__": "VideoStream",
      "index": 1,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input2.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "feedback",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => "edge-filter-feedback-8-1-filter-drawtext-7-0",
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 1,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input2.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "feedback",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "fontsize": 12,
          "text": "Hello World",
          "x": 10,
          "y": 10,
        },
        "name": "drawtext",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => "edge-filter-drawtext-7-0-output-6-0",
    {
      "__class__": "OutputStream",
      "index": 1,
      "node": {
        "__class__": "OutputNode",
        "filename": "output2.mp4",
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "VideoStream",
                  "index": 1,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input2.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "feedback",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "fontsize": 12,
                "text": "Hello World",
                "x": 10,
                "y": 10,
              },
              "name": "drawtext",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {},
      },
    } => "edge-output-6-0-global-0-1",
  },
  "targetMap": Map {
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => {
      "index": 0,
      "nodeId": "filter-feedback-3",
    },
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input2.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => {
      "index": 1,
      "nodeId": "filter-feedback-3",
    },
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input2.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "feedback",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "filter-drawtext-2",
    },
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input2.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "feedback",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "fontsize": 12,
          "text": "Hello World",
          "x": 10,
          "y": 10,
        },
        "name": "drawtext",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "output-1",
    },
    {
      "__class__": "OutputStream",
      "index": 0,
      "node": {
        "__class__": "OutputNode",
        "filename": "output1.mp4",
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "VideoStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input2.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "feedback",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "fontsize": 12,
                "text": "Hello World",
                "x": 10,
                "y": 10,
              },
              "name": "drawtext",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {},
      },
    } => {
      "index": 0,
      "nodeId": "global-0",
    },
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => {
      "index": 0,
      "nodeId": "filter-feedback-8",
    },
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input2.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => {
      "index": 1,
      "nodeId": "filter-feedback-8",
    },
    {
      "__class__": "VideoStream",
      "index": 1,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input2.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "feedback",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "filter-drawtext-7",
    },
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 1,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input2.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "feedback",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "fontsize": 12,
          "text": "Hello World",
          "x": 10,
          "y": 10,
        },
        "name": "drawtext",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "output-6",
    },
    {
      "__class__": "OutputStream",
      "index": 1,
      "node": {
        "__class__": "OutputNode",
        "filename": "output2.mp4",
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "VideoStream",
                  "index": 1,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input2.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "feedback",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "fontsize": 12,
                "text": "Hello World",
                "x": 10,
                "y": 10,
              },
              "name": "drawtext",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {},
      },
    } => {
      "index": 1,
      "nodeId": "global-0",
    },
  },
}
`;

exports[`Node Mapping > should handle 'test_compile_json[multi-output-filterâ€¦' case 3`] = `"{"kwargs":{},"inputs":[{"node":{"kwargs":{},"inputs":[{"node":{"kwargs":{"fontsize":12,"text":"Hello World","x":10,"y":10},"inputs":[{"node":{"kwargs":{},"inputs":[{"node":{"kwargs":{},"inputs":[],"filename":"input1.mp4","__class__":"InputNode"},"index":null,"__class__":"AVStream"},{"node":{"kwargs":{},"inputs":[],"filename":"input2.mp4","__class__":"InputNode"},"index":null,"__class__":"AVStream"}],"name":"feedback","input_typings":[{"value":"video","__class__":"StreamType"},{"value":"video","__class__":"StreamType"}],"output_typings":[{"value":"video","__class__":"StreamType"},{"value":"video","__class__":"StreamType"}],"__class__":"FilterNode"},"index":0,"__class__":"VideoStream"}],"name":"drawtext","input_typings":[{"value":"video","__class__":"StreamType"}],"output_typings":[{"value":"video","__class__":"StreamType"}],"__class__":"FilterNode"},"index":0,"__class__":"VideoStream"}],"filename":"output1.mp4","__class__":"OutputNode"},"index":0,"__class__":"OutputStream"},{"node":{"kwargs":{},"inputs":[{"node":{"kwargs":{"fontsize":12,"text":"Hello World","x":10,"y":10},"inputs":[{"node":{"kwargs":{},"inputs":[{"node":{"kwargs":{},"inputs":[],"filename":"input1.mp4","__class__":"InputNode"},"index":null,"__class__":"AVStream"},{"node":{"kwargs":{},"inputs":[],"filename":"input2.mp4","__class__":"InputNode"},"index":null,"__class__":"AVStream"}],"name":"feedback","input_typings":[{"value":"video","__class__":"StreamType"},{"value":"video","__class__":"StreamType"}],"output_typings":[{"value":"video","__class__":"StreamType"},{"value":"video","__class__":"StreamType"}],"__class__":"FilterNode"},"index":1,"__class__":"VideoStream"}],"name":"drawtext","input_typings":[{"value":"video","__class__":"StreamType"}],"output_typings":[{"value":"video","__class__":"StreamType"}],"__class__":"FilterNode"},"index":0,"__class__":"VideoStream"}],"filename":"output2.mp4","__class__":"OutputNode"},"index":1,"__class__":"OutputStream"}],"__class__":"GlobalNode"}"`;

exports[`Node Mapping > should handle 'test_compile_json[not-utilize-split][â€¦' case 1`] = `
{
  "nodeMap": Map {
    "global-0" => {
      "__class__": "GlobalNode",
      "inputs": [],
      "kwargs": {},
    },
    "output-1" => {
      "__class__": "OutputNode",
      "filename": "tmp.mp4",
      "inputs": [
        {
          "__class__": "VideoStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
            "inputs": [
              {
                "__class__": "AVStream",
                "index": null,
                "node": {
                  "__class__": "InputNode",
                  "filename": "input1.mp4",
                  "inputs": [],
                  "kwargs": {},
                },
              },
            ],
            "kwargs": {},
            "name": "reverse",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
          },
        },
      ],
      "kwargs": {},
    },
    "filter-reverse-2" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
      "inputs": [
        {
          "__class__": "AVStream",
          "index": null,
          "node": {
            "__class__": "InputNode",
            "filename": "input1.mp4",
            "inputs": [],
            "kwargs": {},
          },
        },
      ],
      "kwargs": {},
      "name": "reverse",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
    },
    "input-3" => {
      "__class__": "InputNode",
      "filename": "input1.mp4",
      "inputs": [],
      "kwargs": {},
    },
  },
}
`;

exports[`Node Mapping > should handle 'test_compile_json[not-utilize-split][â€¦' case 2`] = `
{
  "edgeMap": Map {
    "edge-input-3-0-filter-reverse-2-0" => {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    },
    "edge-filter-reverse-2-0-output-1-0" => {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "reverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    },
  },
  "reverseMap": Map {
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => "edge-input-3-0-filter-reverse-2-0",
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "reverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => "edge-filter-reverse-2-0-output-1-0",
  },
  "targetMap": Map {
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => {
      "index": 0,
      "nodeId": "filter-reverse-2",
    },
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "reverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "output-1",
    },
  },
}
`;

exports[`Node Mapping > should handle 'test_compile_json[not-utilize-split][â€¦' case 3`] = `"{"kwargs":{},"inputs":[],"__class__":"GlobalNode"}"`;

exports[`Node Mapping > should handle 'test_compile_json[redundant-split-dupâ€¦' case 1`] = `
{
  "nodeMap": Map {
    "global-0" => {
      "__class__": "GlobalNode",
      "inputs": [],
      "kwargs": {},
    },
    "output-1" => {
      "__class__": "OutputNode",
      "filename": "tmp.mp4",
      "inputs": [
        {
          "__class__": "VideoStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
              {
                "__class__": "StreamType",
                "value": "video",
              },
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
            "inputs": [
              {
                "__class__": "VideoStream",
                "index": 0,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "VideoStream",
                      "index": 0,
                      "node": {
                        "__class__": "FilterNode",
                        "input_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "video",
                          },
                        ],
                        "inputs": [
                          {
                            "__class__": "AVStream",
                            "index": null,
                            "node": {
                              "__class__": "InputNode",
                              "filename": "input1.mp4",
                              "inputs": [],
                              "kwargs": {},
                            },
                          },
                        ],
                        "kwargs": {},
                        "name": "reverse",
                        "output_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "video",
                          },
                        ],
                      },
                    },
                  ],
                  "kwargs": {
                    "outputs": 3,
                  },
                  "name": "split",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                },
              },
              {
                "__class__": "VideoStream",
                "index": 1,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "VideoStream",
                      "index": 0,
                      "node": {
                        "__class__": "FilterNode",
                        "input_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "video",
                          },
                        ],
                        "inputs": [
                          {
                            "__class__": "AVStream",
                            "index": null,
                            "node": {
                              "__class__": "InputNode",
                              "filename": "input1.mp4",
                              "inputs": [],
                              "kwargs": {},
                            },
                          },
                        ],
                        "kwargs": {},
                        "name": "reverse",
                        "output_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "video",
                          },
                        ],
                      },
                    },
                  ],
                  "kwargs": {
                    "outputs": 3,
                  },
                  "name": "split",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                },
              },
              {
                "__class__": "VideoStream",
                "index": 2,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "VideoStream",
                      "index": 0,
                      "node": {
                        "__class__": "FilterNode",
                        "input_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "video",
                          },
                        ],
                        "inputs": [
                          {
                            "__class__": "AVStream",
                            "index": null,
                            "node": {
                              "__class__": "InputNode",
                              "filename": "input1.mp4",
                              "inputs": [],
                              "kwargs": {},
                            },
                          },
                        ],
                        "kwargs": {},
                        "name": "reverse",
                        "output_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "video",
                          },
                        ],
                      },
                    },
                  ],
                  "kwargs": {
                    "outputs": 3,
                  },
                  "name": "split",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                },
              },
            ],
            "kwargs": {
              "n": 3,
            },
            "name": "concat",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
          },
        },
      ],
      "kwargs": {},
    },
    "filter-concat-2" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
        {
          "__class__": "StreamType",
          "value": "video",
        },
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
      "inputs": [
        {
          "__class__": "VideoStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
            "inputs": [
              {
                "__class__": "VideoStream",
                "index": 0,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "AVStream",
                      "index": null,
                      "node": {
                        "__class__": "InputNode",
                        "filename": "input1.mp4",
                        "inputs": [],
                        "kwargs": {},
                      },
                    },
                  ],
                  "kwargs": {},
                  "name": "reverse",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                },
              },
            ],
            "kwargs": {
              "outputs": 3,
            },
            "name": "split",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
              {
                "__class__": "StreamType",
                "value": "video",
              },
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
          },
        },
        {
          "__class__": "VideoStream",
          "index": 1,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
            "inputs": [
              {
                "__class__": "VideoStream",
                "index": 0,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "AVStream",
                      "index": null,
                      "node": {
                        "__class__": "InputNode",
                        "filename": "input1.mp4",
                        "inputs": [],
                        "kwargs": {},
                      },
                    },
                  ],
                  "kwargs": {},
                  "name": "reverse",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                },
              },
            ],
            "kwargs": {
              "outputs": 3,
            },
            "name": "split",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
              {
                "__class__": "StreamType",
                "value": "video",
              },
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
          },
        },
        {
          "__class__": "VideoStream",
          "index": 2,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
            "inputs": [
              {
                "__class__": "VideoStream",
                "index": 0,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "AVStream",
                      "index": null,
                      "node": {
                        "__class__": "InputNode",
                        "filename": "input1.mp4",
                        "inputs": [],
                        "kwargs": {},
                      },
                    },
                  ],
                  "kwargs": {},
                  "name": "reverse",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                },
              },
            ],
            "kwargs": {
              "outputs": 3,
            },
            "name": "split",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
              {
                "__class__": "StreamType",
                "value": "video",
              },
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
          },
        },
      ],
      "kwargs": {
        "n": 3,
      },
      "name": "concat",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
    },
    "filter-split-3" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
      "inputs": [
        {
          "__class__": "VideoStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
            "inputs": [
              {
                "__class__": "AVStream",
                "index": null,
                "node": {
                  "__class__": "InputNode",
                  "filename": "input1.mp4",
                  "inputs": [],
                  "kwargs": {},
                },
              },
            ],
            "kwargs": {},
            "name": "reverse",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
          },
        },
      ],
      "kwargs": {
        "outputs": 3,
      },
      "name": "split",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
        {
          "__class__": "StreamType",
          "value": "video",
        },
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
    },
    "filter-reverse-4" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
      "inputs": [
        {
          "__class__": "AVStream",
          "index": null,
          "node": {
            "__class__": "InputNode",
            "filename": "input1.mp4",
            "inputs": [],
            "kwargs": {},
          },
        },
      ],
      "kwargs": {},
      "name": "reverse",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
    },
    "input-5" => {
      "__class__": "InputNode",
      "filename": "input1.mp4",
      "inputs": [],
      "kwargs": {},
    },
    "filter-split-6" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
      "inputs": [
        {
          "__class__": "VideoStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
            "inputs": [
              {
                "__class__": "AVStream",
                "index": null,
                "node": {
                  "__class__": "InputNode",
                  "filename": "input1.mp4",
                  "inputs": [],
                  "kwargs": {},
                },
              },
            ],
            "kwargs": {},
            "name": "reverse",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
          },
        },
      ],
      "kwargs": {
        "outputs": 3,
      },
      "name": "split",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
        {
          "__class__": "StreamType",
          "value": "video",
        },
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
    },
    "filter-reverse-7" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
      "inputs": [
        {
          "__class__": "AVStream",
          "index": null,
          "node": {
            "__class__": "InputNode",
            "filename": "input1.mp4",
            "inputs": [],
            "kwargs": {},
          },
        },
      ],
      "kwargs": {},
      "name": "reverse",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
    },
    "input-8" => {
      "__class__": "InputNode",
      "filename": "input1.mp4",
      "inputs": [],
      "kwargs": {},
    },
    "filter-split-9" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
      "inputs": [
        {
          "__class__": "VideoStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
            "inputs": [
              {
                "__class__": "AVStream",
                "index": null,
                "node": {
                  "__class__": "InputNode",
                  "filename": "input1.mp4",
                  "inputs": [],
                  "kwargs": {},
                },
              },
            ],
            "kwargs": {},
            "name": "reverse",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
          },
        },
      ],
      "kwargs": {
        "outputs": 3,
      },
      "name": "split",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
        {
          "__class__": "StreamType",
          "value": "video",
        },
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
    },
    "filter-reverse-10" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
      "inputs": [
        {
          "__class__": "AVStream",
          "index": null,
          "node": {
            "__class__": "InputNode",
            "filename": "input1.mp4",
            "inputs": [],
            "kwargs": {},
          },
        },
      ],
      "kwargs": {},
      "name": "reverse",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
    },
    "input-11" => {
      "__class__": "InputNode",
      "filename": "input1.mp4",
      "inputs": [],
      "kwargs": {},
    },
  },
}
`;

exports[`Node Mapping > should handle 'test_compile_json[redundant-split-dupâ€¦' case 2`] = `
{
  "edgeMap": Map {
    "edge-input-5-0-filter-reverse-4-0" => {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    },
    "edge-filter-reverse-4-0-filter-split-3-0" => {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "reverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    },
    "edge-filter-split-3-0-filter-concat-2-0" => {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "reverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 3,
        },
        "name": "split",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    },
    "edge-input-8-0-filter-reverse-7-0" => {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    },
    "edge-filter-reverse-7-0-filter-split-6-0" => {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "reverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    },
    "edge-filter-split-6-1-filter-concat-2-1" => {
      "__class__": "VideoStream",
      "index": 1,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "reverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 3,
        },
        "name": "split",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    },
    "edge-input-11-0-filter-reverse-10-0" => {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    },
    "edge-filter-reverse-10-0-filter-split-9-0" => {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "reverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    },
    "edge-filter-split-9-2-filter-concat-2-2" => {
      "__class__": "VideoStream",
      "index": 2,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "reverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 3,
        },
        "name": "split",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    },
    "edge-filter-concat-2-0-output-1-0" => {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "VideoStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "reverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 3,
              },
              "name": "split",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
          {
            "__class__": "VideoStream",
            "index": 1,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "VideoStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "reverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 3,
              },
              "name": "split",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
          {
            "__class__": "VideoStream",
            "index": 2,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "VideoStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "reverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 3,
              },
              "name": "split",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "n": 3,
        },
        "name": "concat",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    },
  },
  "reverseMap": Map {
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => "edge-input-5-0-filter-reverse-4-0",
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "reverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => "edge-filter-reverse-4-0-filter-split-3-0",
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "reverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 3,
        },
        "name": "split",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => "edge-filter-split-3-0-filter-concat-2-0",
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => "edge-input-8-0-filter-reverse-7-0",
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "reverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => "edge-filter-reverse-7-0-filter-split-6-0",
    {
      "__class__": "VideoStream",
      "index": 1,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "reverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 3,
        },
        "name": "split",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => "edge-filter-split-6-1-filter-concat-2-1",
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => "edge-input-11-0-filter-reverse-10-0",
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "reverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => "edge-filter-reverse-10-0-filter-split-9-0",
    {
      "__class__": "VideoStream",
      "index": 2,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "reverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 3,
        },
        "name": "split",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => "edge-filter-split-9-2-filter-concat-2-2",
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "VideoStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "reverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 3,
              },
              "name": "split",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
          {
            "__class__": "VideoStream",
            "index": 1,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "VideoStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "reverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 3,
              },
              "name": "split",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
          {
            "__class__": "VideoStream",
            "index": 2,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "VideoStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "reverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 3,
              },
              "name": "split",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "n": 3,
        },
        "name": "concat",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => "edge-filter-concat-2-0-output-1-0",
  },
  "targetMap": Map {
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => {
      "index": 0,
      "nodeId": "filter-reverse-4",
    },
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "reverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "filter-split-3",
    },
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "reverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 3,
        },
        "name": "split",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "filter-concat-2",
    },
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => {
      "index": 0,
      "nodeId": "filter-reverse-7",
    },
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "reverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "filter-split-6",
    },
    {
      "__class__": "VideoStream",
      "index": 1,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "reverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 3,
        },
        "name": "split",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => {
      "index": 1,
      "nodeId": "filter-concat-2",
    },
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => {
      "index": 0,
      "nodeId": "filter-reverse-10",
    },
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "reverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "filter-split-9",
    },
    {
      "__class__": "VideoStream",
      "index": 2,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input1.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "reverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 3,
        },
        "name": "split",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => {
      "index": 2,
      "nodeId": "filter-concat-2",
    },
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "VideoStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "reverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 3,
              },
              "name": "split",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
          {
            "__class__": "VideoStream",
            "index": 1,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "VideoStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "reverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 3,
              },
              "name": "split",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
          {
            "__class__": "VideoStream",
            "index": 2,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "VideoStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input1.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "reverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 3,
              },
              "name": "split",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "n": 3,
        },
        "name": "concat",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "output-1",
    },
  },
}
`;

exports[`Node Mapping > should handle 'test_compile_json[redundant-split-dupâ€¦' case 3`] = `"{"kwargs":{},"inputs":[],"__class__":"GlobalNode"}"`;

exports[`Node Mapping > should handle 'test_compile_json[redundant-split-outâ€¦' case 1`] = `
{
  "nodeMap": Map {
    "global-0" => {
      "__class__": "GlobalNode",
      "inputs": [],
      "kwargs": {},
    },
    "output-1" => {
      "__class__": "OutputNode",
      "filename": "tmp.mp4",
      "inputs": [
        {
          "__class__": "VideoStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
            "inputs": [
              {
                "__class__": "AVStream",
                "index": null,
                "node": {
                  "__class__": "InputNode",
                  "filename": "input1.mp4",
                  "inputs": [],
                  "kwargs": {},
                },
              },
            ],
            "kwargs": {},
            "name": "reverse",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
          },
        },
      ],
      "kwargs": {},
    },
    "filter-reverse-2" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
      "inputs": [
        {
          "__class__": "AVStream",
          "index": null,
          "node": {
            "__class__": "InputNode",
            "filename": "input1.mp4",
            "inputs": [],
            "kwargs": {},
          },
        },
      ],
      "kwargs": {},
      "name": "reverse",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
    },
    "input-3" => {
      "__class__": "InputNode",
      "filename": "input1.mp4",
      "inputs": [],
      "kwargs": {},
    },
  },
}
`;

exports[`Node Mapping > should handle 'test_compile_json[redundant-split-outâ€¦' case 2`] = `
{
  "edgeMap": Map {
    "edge-input-3-0-filter-reverse-2-0" => {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    },
    "edge-filter-reverse-2-0-output-1-0" => {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "reverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    },
  },
  "reverseMap": Map {
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => "edge-input-3-0-filter-reverse-2-0",
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "reverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => "edge-filter-reverse-2-0-output-1-0",
  },
  "targetMap": Map {
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input1.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => {
      "index": 0,
      "nodeId": "filter-reverse-2",
    },
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input1.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "reverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "output-1",
    },
  },
}
`;

exports[`Node Mapping > should handle 'test_compile_json[redundant-split-outâ€¦' case 3`] = `"{"kwargs":{},"inputs":[],"__class__":"GlobalNode"}"`;

exports[`Node Mapping > should handle 'test_compile_json[reuse-input][compilâ€¦' case 1`] = `
{
  "nodeMap": Map {
    "global-0" => {
      "__class__": "GlobalNode",
      "inputs": [],
      "kwargs": {},
    },
    "output-1" => {
      "__class__": "OutputNode",
      "filename": "tmp.mp4",
      "inputs": [
        {
          "__class__": "VideoStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
            "inputs": [
              {
                "__class__": "AVStream",
                "index": null,
                "node": {
                  "__class__": "InputNode",
                  "filename": "input.mp4",
                  "inputs": [],
                  "kwargs": {},
                },
              },
              {
                "__class__": "AVStream",
                "index": null,
                "node": {
                  "__class__": "InputNode",
                  "filename": "input.mp4",
                  "inputs": [],
                  "kwargs": {},
                },
              },
            ],
            "kwargs": {
              "n": 2,
            },
            "name": "concat",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
          },
        },
      ],
      "kwargs": {},
    },
    "filter-concat-2" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
      "inputs": [
        {
          "__class__": "AVStream",
          "index": null,
          "node": {
            "__class__": "InputNode",
            "filename": "input.mp4",
            "inputs": [],
            "kwargs": {},
          },
        },
        {
          "__class__": "AVStream",
          "index": null,
          "node": {
            "__class__": "InputNode",
            "filename": "input.mp4",
            "inputs": [],
            "kwargs": {},
          },
        },
      ],
      "kwargs": {
        "n": 2,
      },
      "name": "concat",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
    },
    "input-3" => {
      "__class__": "InputNode",
      "filename": "input.mp4",
      "inputs": [],
      "kwargs": {},
    },
    "input-4" => {
      "__class__": "InputNode",
      "filename": "input.mp4",
      "inputs": [],
      "kwargs": {},
    },
  },
}
`;

exports[`Node Mapping > should handle 'test_compile_json[reuse-input][compilâ€¦' case 2`] = `
{
  "edgeMap": Map {
    "edge-input-3-0-filter-concat-2-0" => {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input.mp4",
        "inputs": [],
        "kwargs": {},
      },
    },
    "edge-input-4-0-filter-concat-2-1" => {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input.mp4",
        "inputs": [],
        "kwargs": {},
      },
    },
    "edge-filter-concat-2-0-output-1-0" => {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {
          "n": 2,
        },
        "name": "concat",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    },
  },
  "reverseMap": Map {
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => "edge-input-3-0-filter-concat-2-0",
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => "edge-input-4-0-filter-concat-2-1",
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {
          "n": 2,
        },
        "name": "concat",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => "edge-filter-concat-2-0-output-1-0",
  },
  "targetMap": Map {
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => {
      "index": 0,
      "nodeId": "filter-concat-2",
    },
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => {
      "index": 1,
      "nodeId": "filter-concat-2",
    },
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {
          "n": 2,
        },
        "name": "concat",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "output-1",
    },
  },
}
`;

exports[`Node Mapping > should handle 'test_compile_json[reuse-input][compilâ€¦' case 3`] = `"{"kwargs":{},"inputs":[],"__class__":"GlobalNode"}"`;

exports[`Node Mapping > should handle 'test_compile_json[reuse-stream][compiâ€¦' case 1`] = `
{
  "nodeMap": Map {
    "global-0" => {
      "__class__": "GlobalNode",
      "inputs": [],
      "kwargs": {},
    },
    "output-1" => {
      "__class__": "OutputNode",
      "filename": "tmp.mp4",
      "inputs": [
        {
          "__class__": "VideoStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
            "inputs": [
              {
                "__class__": "VideoStream",
                "index": 0,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "VideoStream",
                      "index": 0,
                      "node": {
                        "__class__": "FilterNode",
                        "input_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "video",
                          },
                        ],
                        "inputs": [
                          {
                            "__class__": "AVStream",
                            "index": null,
                            "node": {
                              "__class__": "InputNode",
                              "filename": "input.mp4",
                              "inputs": [],
                              "kwargs": {},
                            },
                          },
                        ],
                        "kwargs": {},
                        "name": "reverse",
                        "output_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "video",
                          },
                        ],
                      },
                    },
                  ],
                  "kwargs": {
                    "outputs": 2,
                  },
                  "name": "split",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                },
              },
              {
                "__class__": "VideoStream",
                "index": 1,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "VideoStream",
                      "index": 0,
                      "node": {
                        "__class__": "FilterNode",
                        "input_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "video",
                          },
                        ],
                        "inputs": [
                          {
                            "__class__": "AVStream",
                            "index": null,
                            "node": {
                              "__class__": "InputNode",
                              "filename": "input.mp4",
                              "inputs": [],
                              "kwargs": {},
                            },
                          },
                        ],
                        "kwargs": {},
                        "name": "reverse",
                        "output_typings": [
                          {
                            "__class__": "StreamType",
                            "value": "video",
                          },
                        ],
                      },
                    },
                  ],
                  "kwargs": {
                    "outputs": 2,
                  },
                  "name": "split",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                },
              },
            ],
            "kwargs": {
              "n": 2,
            },
            "name": "concat",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
          },
        },
      ],
      "kwargs": {},
    },
    "filter-concat-2" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
      "inputs": [
        {
          "__class__": "VideoStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
            "inputs": [
              {
                "__class__": "VideoStream",
                "index": 0,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "AVStream",
                      "index": null,
                      "node": {
                        "__class__": "InputNode",
                        "filename": "input.mp4",
                        "inputs": [],
                        "kwargs": {},
                      },
                    },
                  ],
                  "kwargs": {},
                  "name": "reverse",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                },
              },
            ],
            "kwargs": {
              "outputs": 2,
            },
            "name": "split",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
          },
        },
        {
          "__class__": "VideoStream",
          "index": 1,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
            "inputs": [
              {
                "__class__": "VideoStream",
                "index": 0,
                "node": {
                  "__class__": "FilterNode",
                  "input_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                  "inputs": [
                    {
                      "__class__": "AVStream",
                      "index": null,
                      "node": {
                        "__class__": "InputNode",
                        "filename": "input.mp4",
                        "inputs": [],
                        "kwargs": {},
                      },
                    },
                  ],
                  "kwargs": {},
                  "name": "reverse",
                  "output_typings": [
                    {
                      "__class__": "StreamType",
                      "value": "video",
                    },
                  ],
                },
              },
            ],
            "kwargs": {
              "outputs": 2,
            },
            "name": "split",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
          },
        },
      ],
      "kwargs": {
        "n": 2,
      },
      "name": "concat",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
    },
    "filter-split-3" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
      "inputs": [
        {
          "__class__": "VideoStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
            "inputs": [
              {
                "__class__": "AVStream",
                "index": null,
                "node": {
                  "__class__": "InputNode",
                  "filename": "input.mp4",
                  "inputs": [],
                  "kwargs": {},
                },
              },
            ],
            "kwargs": {},
            "name": "reverse",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
          },
        },
      ],
      "kwargs": {
        "outputs": 2,
      },
      "name": "split",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
    },
    "filter-reverse-4" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
      "inputs": [
        {
          "__class__": "AVStream",
          "index": null,
          "node": {
            "__class__": "InputNode",
            "filename": "input.mp4",
            "inputs": [],
            "kwargs": {},
          },
        },
      ],
      "kwargs": {},
      "name": "reverse",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
    },
    "input-5" => {
      "__class__": "InputNode",
      "filename": "input.mp4",
      "inputs": [],
      "kwargs": {},
    },
    "filter-split-6" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
      "inputs": [
        {
          "__class__": "VideoStream",
          "index": 0,
          "node": {
            "__class__": "FilterNode",
            "input_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
            "inputs": [
              {
                "__class__": "AVStream",
                "index": null,
                "node": {
                  "__class__": "InputNode",
                  "filename": "input.mp4",
                  "inputs": [],
                  "kwargs": {},
                },
              },
            ],
            "kwargs": {},
            "name": "reverse",
            "output_typings": [
              {
                "__class__": "StreamType",
                "value": "video",
              },
            ],
          },
        },
      ],
      "kwargs": {
        "outputs": 2,
      },
      "name": "split",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
    },
    "filter-reverse-7" => {
      "__class__": "FilterNode",
      "input_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
      "inputs": [
        {
          "__class__": "AVStream",
          "index": null,
          "node": {
            "__class__": "InputNode",
            "filename": "input.mp4",
            "inputs": [],
            "kwargs": {},
          },
        },
      ],
      "kwargs": {},
      "name": "reverse",
      "output_typings": [
        {
          "__class__": "StreamType",
          "value": "video",
        },
      ],
    },
    "input-8" => {
      "__class__": "InputNode",
      "filename": "input.mp4",
      "inputs": [],
      "kwargs": {},
    },
  },
}
`;

exports[`Node Mapping > should handle 'test_compile_json[reuse-stream][compiâ€¦' case 2`] = `
{
  "edgeMap": Map {
    "edge-input-5-0-filter-reverse-4-0" => {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input.mp4",
        "inputs": [],
        "kwargs": {},
      },
    },
    "edge-filter-reverse-4-0-filter-split-3-0" => {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "reverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    },
    "edge-filter-split-3-0-filter-concat-2-0" => {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "reverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "split",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    },
    "edge-input-8-0-filter-reverse-7-0" => {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input.mp4",
        "inputs": [],
        "kwargs": {},
      },
    },
    "edge-filter-reverse-7-0-filter-split-6-0" => {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "reverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    },
    "edge-filter-split-6-1-filter-concat-2-1" => {
      "__class__": "VideoStream",
      "index": 1,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "reverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "split",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    },
    "edge-filter-concat-2-0-output-1-0" => {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "VideoStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "reverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "split",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
          {
            "__class__": "VideoStream",
            "index": 1,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "VideoStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "reverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "split",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "n": 2,
        },
        "name": "concat",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    },
  },
  "reverseMap": Map {
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => "edge-input-5-0-filter-reverse-4-0",
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "reverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => "edge-filter-reverse-4-0-filter-split-3-0",
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "reverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "split",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => "edge-filter-split-3-0-filter-concat-2-0",
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => "edge-input-8-0-filter-reverse-7-0",
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "reverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => "edge-filter-reverse-7-0-filter-split-6-0",
    {
      "__class__": "VideoStream",
      "index": 1,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "reverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "split",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => "edge-filter-split-6-1-filter-concat-2-1",
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "VideoStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "reverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "split",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
          {
            "__class__": "VideoStream",
            "index": 1,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "VideoStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "reverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "split",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "n": 2,
        },
        "name": "concat",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => "edge-filter-concat-2-0-output-1-0",
  },
  "targetMap": Map {
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => {
      "index": 0,
      "nodeId": "filter-reverse-4",
    },
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "reverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "filter-split-3",
    },
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "reverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "split",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "filter-concat-2",
    },
    {
      "__class__": "AVStream",
      "index": null,
      "node": {
        "__class__": "InputNode",
        "filename": "input.mp4",
        "inputs": [],
        "kwargs": {},
      },
    } => {
      "index": 0,
      "nodeId": "filter-reverse-7",
    },
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "AVStream",
            "index": null,
            "node": {
              "__class__": "InputNode",
              "filename": "input.mp4",
              "inputs": [],
              "kwargs": {},
            },
          },
        ],
        "kwargs": {},
        "name": "reverse",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "filter-split-6",
    },
    {
      "__class__": "VideoStream",
      "index": 1,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "AVStream",
                  "index": null,
                  "node": {
                    "__class__": "InputNode",
                    "filename": "input.mp4",
                    "inputs": [],
                    "kwargs": {},
                  },
                },
              ],
              "kwargs": {},
              "name": "reverse",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "outputs": 2,
        },
        "name": "split",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => {
      "index": 1,
      "nodeId": "filter-concat-2",
    },
    {
      "__class__": "VideoStream",
      "index": 0,
      "node": {
        "__class__": "FilterNode",
        "input_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
        "inputs": [
          {
            "__class__": "VideoStream",
            "index": 0,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "VideoStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "reverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "split",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
          {
            "__class__": "VideoStream",
            "index": 1,
            "node": {
              "__class__": "FilterNode",
              "input_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
              "inputs": [
                {
                  "__class__": "VideoStream",
                  "index": 0,
                  "node": {
                    "__class__": "FilterNode",
                    "input_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                    "inputs": [
                      {
                        "__class__": "AVStream",
                        "index": null,
                        "node": {
                          "__class__": "InputNode",
                          "filename": "input.mp4",
                          "inputs": [],
                          "kwargs": {},
                        },
                      },
                    ],
                    "kwargs": {},
                    "name": "reverse",
                    "output_typings": [
                      {
                        "__class__": "StreamType",
                        "value": "video",
                      },
                    ],
                  },
                },
              ],
              "kwargs": {
                "outputs": 2,
              },
              "name": "split",
              "output_typings": [
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
                {
                  "__class__": "StreamType",
                  "value": "video",
                },
              ],
            },
          },
        ],
        "kwargs": {
          "n": 2,
        },
        "name": "concat",
        "output_typings": [
          {
            "__class__": "StreamType",
            "value": "video",
          },
        ],
      },
    } => {
      "index": 0,
      "nodeId": "output-1",
    },
  },
}
`;

exports[`Node Mapping > should handle 'test_compile_json[reuse-stream][compiâ€¦' case 3`] = `"{"kwargs":{},"inputs":[],"__class__":"GlobalNode"}"`;
