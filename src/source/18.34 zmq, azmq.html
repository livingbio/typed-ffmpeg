<h3 class="section"><a href="#toc-zmq_002c-azmq">18.34 zmq, azmq</a></h3>

<p>Receive commands sent through a libzmq client, and forward them to
filters in the filtergraph.
</p>
<p><code>zmq</code> and <code>azmq</code> work as a pass-through filters. <code>zmq</code>
must be inserted between two video filters, <code>azmq</code> between two
audio filters. Both are capable to send messages to any filter type.
</p>
<p>To enable these filters you need to install the libzmq library and
headers and configure FFmpeg with <code>--enable-libzmq</code>.
</p>
<p>For more information about libzmq see:
<a href="http://www.zeromq.org/">http://www.zeromq.org/</a>
</p>
<p>The <code>zmq</code> and <code>azmq</code> filters work as a libzmq server, which
receives messages sent through a network interface defined by the
<samp>bind_address</samp> (or the abbreviation &quot;<samp>b</samp>&quot;) option.
Default value of this option is <samp>tcp://localhost:5555</samp>. You may
want to alter this value to your needs, but do not forget to escape any
&rsquo;:&rsquo; signs (see <a href="#filtergraph-escaping">filtergraph escaping</a>).
</p>
<p>The received message must be in the form:
</p><div class="example">
<pre class="example"><var>TARGET</var> <var>COMMAND</var> [<var>ARG</var>]
</pre></div>

<p><var>TARGET</var> specifies the target of the command, usually the name of
the filter class or a specific filter instance name. The default
filter instance name uses the pattern &lsquo;<samp>Parsed_&lt;filter_name&gt;_&lt;index&gt;</samp>&rsquo;,
but you can override this by using the &lsquo;<samp>filter_name@id</samp>&rsquo; syntax
(see <a href="#Filtergraph-syntax">Filtergraph syntax</a>).
</p>
<p><var>COMMAND</var> specifies the name of the command for the target filter.
</p>
<p><var>ARG</var> is optional and specifies the optional argument list for the
given <var>COMMAND</var>.
</p>
<p>Upon reception, the message is processed and the corresponding command
is injected into the filtergraph. Depending on the result, the filter
will send a reply to the client, adopting the format:
</p><div class="example">
<pre class="example"><var>ERROR_CODE</var> <var>ERROR_REASON</var>
<var>MESSAGE</var>
</pre></div>

<p><var>MESSAGE</var> is optional.
</p>
