<h3 class="section"><a href="#toc-select_002c-aselect">18.17 select, aselect</a></h3>

<p>Select frames to pass in output.
</p>
<p>This filter accepts the following options:
</p>
<dl compact="compact">
<dt><samp>expr, e</samp></dt>
<dd><p>Set expression, which is evaluated for each input frame.
</p>
<p>If the expression is evaluated to zero, the frame is discarded.
</p>
<p>If the evaluation result is negative or NaN, the frame is sent to the
first output; otherwise it is sent to the output with index
<code>ceil(val)-1</code>, assuming that the input index starts from 0.
</p>
<p>For example a value of <code>1.2</code> corresponds to the output with index
<code>ceil(1.2)-1 = 2-1 = 1</code>, that is the second output.
</p>
</dd>
<dt><samp>outputs, n</samp></dt>
<dd><p>Set the number of outputs. The output to which to send the selected
frame is based on the result of the evaluation. Default value is 1.
</p></dd>
</dl>

<p>The expression can contain the following constants:
</p>
<dl compact="compact">
<dt><samp>n</samp></dt>
<dd><p>The (sequential) number of the filtered frame, starting from 0.
</p>
</dd>
<dt><samp>selected_n</samp></dt>
<dd><p>The (sequential) number of the selected frame, starting from 0.
</p>
</dd>
<dt><samp>prev_selected_n</samp></dt>
<dd><p>The sequential number of the last selected frame. It&rsquo;s NAN if undefined.
</p>
</dd>
<dt><samp>TB</samp></dt>
<dd><p>The timebase of the input timestamps.
</p>
</dd>
<dt><samp>pts</samp></dt>
<dd><p>The PTS (Presentation TimeStamp) of the filtered frame,
expressed in <var>TB</var> units. It&rsquo;s NAN if undefined.
</p>
</dd>
<dt><samp>t</samp></dt>
<dd><p>The PTS of the filtered frame,
expressed in seconds. It&rsquo;s NAN if undefined.
</p>
</dd>
<dt><samp>prev_pts</samp></dt>
<dd><p>The PTS of the previously filtered frame. It&rsquo;s NAN if undefined.
</p>
</dd>
<dt><samp>prev_selected_pts</samp></dt>
<dd><p>The PTS of the last previously filtered frame. It&rsquo;s NAN if undefined.
</p>
</dd>
<dt><samp>prev_selected_t</samp></dt>
<dd><p>The PTS of the last previously selected frame, expressed in seconds. It&rsquo;s NAN if undefined.
</p>
</dd>
<dt><samp>start_pts</samp></dt>
<dd><p>The first PTS in the stream which is not NAN. It remains NAN if not found.
</p>
</dd>
<dt><samp>start_t</samp></dt>
<dd><p>The first PTS, in seconds, in the stream which is not NAN. It remains NAN if not found.
</p>
</dd>
<dt><samp>pict_type <em>(video only)</em></samp></dt>
<dd><p>The type of the filtered frame. It can assume one of the following
values:
</p><dl compact="compact">
<dt><samp>I</samp></dt>
<dt><samp>P</samp></dt>
<dt><samp>B</samp></dt>
<dt><samp>S</samp></dt>
<dt><samp>SI</samp></dt>
<dt><samp>SP</samp></dt>
<dt><samp>BI</samp></dt>
</dl>

</dd>
<dt><samp>interlace_type <em>(video only)</em></samp></dt>
<dd><p>The frame interlace type. It can assume one of the following values:
</p><dl compact="compact">
<dt><samp>PROGRESSIVE</samp></dt>
<dd><p>The frame is progressive (not interlaced).
</p></dd>
<dt><samp>TOPFIRST</samp></dt>
<dd><p>The frame is top-field-first.
</p></dd>
<dt><samp>BOTTOMFIRST</samp></dt>
<dd><p>The frame is bottom-field-first.
</p></dd>
</dl>

</dd>
<dt><samp>consumed_sample_n <em>(audio only)</em></samp></dt>
<dd><p>the number of selected samples before the current frame
</p>
</dd>
<dt><samp>samples_n <em>(audio only)</em></samp></dt>
<dd><p>the number of samples in the current frame
</p>
</dd>
<dt><samp>sample_rate <em>(audio only)</em></samp></dt>
<dd><p>the input sample rate
</p>
</dd>
<dt><samp>key</samp></dt>
<dd><p>This is 1 if the filtered frame is a key-frame, 0 otherwise.
</p>
</dd>
<dt><samp>pos</samp></dt>
<dd><p>the position in the file of the filtered frame, -1 if the information
is not available (e.g. for synthetic video); deprecated, do not use
</p>
</dd>
<dt><samp>scene <em>(video only)</em></samp></dt>
<dd><p>value between 0 and 1 to indicate a new scene; a low value reflects a low
probability for the current frame to introduce a new scene, while a higher
value means the current frame is more likely to be one (see the example below)
</p>
</dd>
<dt><samp>concatdec_select</samp></dt>
<dd><p>The concat demuxer can select only part of a concat input file by setting an
inpoint and an outpoint, but the output packets may not be entirely contained
in the selected interval. By using this variable, it is possible to skip frames
generated by the concat demuxer which are not exactly contained in the selected
interval.
</p>
<p>This works by comparing the frame pts against the <var>lavf.concat.start_time</var>
and the <var>lavf.concat.duration</var> packet metadata values which are also
present in the decoded frames.
</p>
<p>The <var>concatdec_select</var> variable is -1 if the frame pts is at least
start_time and either the duration metadata is missing or the frame pts is less
than start_time + duration, 0 otherwise, and NaN if the start_time metadata is
missing.
</p>
<p>That basically means that an input frame is selected if its pts is within the
interval set by the concat demuxer.
</p>
</dd>
</dl>

<p>The default value of the select expression is &quot;1&quot;.
</p>
