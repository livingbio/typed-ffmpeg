{
  "description": "### 11.67 deshake\n\nAttempt to fix small changes in horizontal and/or vertical shift. This\nfilter helps remove camera shake from hand-holding a camera, bumping a\ntripod, moving on a vehicle, etc.\n\n\nThe filter accepts the following options:\n\n\n- **`x`**\n- **`y`**\n- **`w`**\n- **`h`**\n  - Specify a rectangular area where to limit the search for motion\nvectors.\nIf desired the search for motion vectors can be limited to a\nrectangular area of the frame defined by its top left corner, width\nand height. These parameters have the same meaning as the drawbox\nfilter which can be used to visualise the position of the bounding\nbox.\nThis is useful when simultaneous movement of subjects within the frame\nmight be confused for camera motion by the motion vector search.\nIf any or all of\nx\n,\ny\n,\nw\nand\nh\nare set to -1\nthen the full frame is used. This allows later options to be set\nwithout specifying the bounding box for the motion vector search.\nDefault - search the whole frame.\n- **`rx`**\n- **`ry`**\n  - Specify the maximum extent of movement in x and y directions in the\nrange 0-64 pixels. Default 16.\n- **`edge`**\n  - Specify how to generate pixels to fill blanks at the edge of the\nframe. Available values are:\n\u2018\nblank, 0\n\u2019\nFill zeroes at blank locations\n\u2018\noriginal, 1\n\u2019\nOriginal image at blank locations\n\u2018\nclamp, 2\n\u2019\nExtruded edge value at blank locations\n\u2018\nmirror, 3\n\u2019\nMirrored edge at blank locations\nDefault value is \u2018\nmirror\n\u2019.\n- **`blocksize`**\n  - Specify the blocksize to use for motion search. Range 4-128 pixels,\ndefault 8.\n- **`contrast`**\n  - Specify the contrast threshold for blocks. Only blocks with more than\nthe specified contrast (difference between darkest and lightest\npixels) will be considered. Range 1-255, default 125.\n- **`search`**\n  - Specify the search strategy. Available values are:\n\u2018\nexhaustive, 0\n\u2019\nSet exhaustive search\n\u2018\nless, 1\n\u2019\nSet less exhaustive search.\nDefault value is \u2018\nexhaustive\n\u2019.\n- **`filename`**\n  - If set then a detailed log of the motion search is written to the\nspecified file.\nSpecify a rectangular area where to limit the search for motion\nvectors.\nIf desired the search for motion vectors can be limited to a\nrectangular area of the frame defined by its top left corner, width\nand height. These parameters have the same meaning as the drawbox\nfilter which can be used to visualise the position of the bounding\nbox.\n\n\nThis is useful when simultaneous movement of subjects within the frame\nmight be confused for camera motion by the motion vector search.\n\n\nIf any or all of x, y, w and h are set to -1\nthen the full frame is used. This allows later options to be set\nwithout specifying the bounding box for the motion vector search.\n\n\nDefault - search the whole frame.\n\n\nSpecify the maximum extent of movement in x and y directions in the\nrange 0-64 pixels. Default 16.\n\n\nSpecify how to generate pixels to fill blanks at the edge of the\nframe. Available values are:\n\n\n- **`\u2018blank, 0\u2019`**\n  - Fill zeroes at blank locations\n- **`\u2018original, 1\u2019`**\n  - Original image at blank locations\n- **`\u2018clamp, 2\u2019`**\n  - Extruded edge value at blank locations\n- **`\u2018mirror, 3\u2019`**\n  - Mirrored edge at blank locations\nFill zeroes at blank locations\n\n\nOriginal image at blank locations\n\n\nExtruded edge value at blank locations\n\n\nMirrored edge at blank locations\n\n\nDefault value is \u2018mirror\u2019.\n\n\nSpecify the blocksize to use for motion search. Range 4-128 pixels,\ndefault 8.\n\n\nSpecify the contrast threshold for blocks. Only blocks with more than\nthe specified contrast (difference between darkest and lightest\npixels) will be considered. Range 1-255, default 125.\n\n\nSpecify the search strategy. Available values are:\n\n\n- **`\u2018exhaustive, 0\u2019`**\n  - Set exhaustive search\n- **`\u2018less, 1\u2019`**\n  - Set less exhaustive search.\nSet exhaustive search\n\n\nSet less exhaustive search.\n\n\nDefault value is \u2018exhaustive\u2019.\n\n\nIf set then a detailed log of the motion search is written to the\nspecified file.\n\n\n",
  "filter_type": "vf",
  "formula_input_typings": null,
  "formula_output_typings": null,
  "id": "ff_vf_deshake",
  "input_stream_typings": [
    {
      "name": "default",
      "type": "AVMEDIA_TYPE_VIDEO"
    }
  ],
  "is_input_dynamic": false,
  "is_output_dynamic": false,
  "name": "deshake",
  "options": [
    {
      "alias": [
        "x"
      ],
      "choices": [],
      "default": -1,
      "description": "<dd><p>Specify a rectangular area where to limit the search for motion\nvectors.\nIf desired the search for motion vectors can be limited to a\nrectangular area of the frame defined by its top left corner, width\nand height. These parameters have the same meaning as the drawbox\nfilter which can be used to visualise the position of the bounding\nbox.\n</p>\n<p>This is useful when simultaneous movement of subjects within the frame\nmight be confused for camera motion by the motion vector search.\n</p>\n<p>If any or all of <var>x</var>, <var>y</var>, <var>w</var> and <var>h</var> are set to -1\nthen the full frame is used. This allows later options to be set\nwithout specifying the bounding box for the motion vector search.\n</p>\n<p>Default - search the whole frame.\n</p>\n</dd>",
      "name": "x",
      "required": false,
      "typing": "int"
    },
    {
      "alias": [
        "y"
      ],
      "choices": [],
      "default": -1,
      "description": "<dd><p>Specify a rectangular area where to limit the search for motion\nvectors.\nIf desired the search for motion vectors can be limited to a\nrectangular area of the frame defined by its top left corner, width\nand height. These parameters have the same meaning as the drawbox\nfilter which can be used to visualise the position of the bounding\nbox.\n</p>\n<p>This is useful when simultaneous movement of subjects within the frame\nmight be confused for camera motion by the motion vector search.\n</p>\n<p>If any or all of <var>x</var>, <var>y</var>, <var>w</var> and <var>h</var> are set to -1\nthen the full frame is used. This allows later options to be set\nwithout specifying the bounding box for the motion vector search.\n</p>\n<p>Default - search the whole frame.\n</p>\n</dd>",
      "name": "y",
      "required": false,
      "typing": "int"
    },
    {
      "alias": [
        "w"
      ],
      "choices": [],
      "default": -1,
      "description": "<dd><p>Specify a rectangular area where to limit the search for motion\nvectors.\nIf desired the search for motion vectors can be limited to a\nrectangular area of the frame defined by its top left corner, width\nand height. These parameters have the same meaning as the drawbox\nfilter which can be used to visualise the position of the bounding\nbox.\n</p>\n<p>This is useful when simultaneous movement of subjects within the frame\nmight be confused for camera motion by the motion vector search.\n</p>\n<p>If any or all of <var>x</var>, <var>y</var>, <var>w</var> and <var>h</var> are set to -1\nthen the full frame is used. This allows later options to be set\nwithout specifying the bounding box for the motion vector search.\n</p>\n<p>Default - search the whole frame.\n</p>\n</dd>",
      "name": "w",
      "required": false,
      "typing": "int"
    },
    {
      "alias": [
        "h"
      ],
      "choices": [],
      "default": -1,
      "description": "<dd><p>Specify a rectangular area where to limit the search for motion\nvectors.\nIf desired the search for motion vectors can be limited to a\nrectangular area of the frame defined by its top left corner, width\nand height. These parameters have the same meaning as the drawbox\nfilter which can be used to visualise the position of the bounding\nbox.\n</p>\n<p>This is useful when simultaneous movement of subjects within the frame\nmight be confused for camera motion by the motion vector search.\n</p>\n<p>If any or all of <var>x</var>, <var>y</var>, <var>w</var> and <var>h</var> are set to -1\nthen the full frame is used. This allows later options to be set\nwithout specifying the bounding box for the motion vector search.\n</p>\n<p>Default - search the whole frame.\n</p>\n</dd>",
      "name": "h",
      "required": false,
      "typing": "int"
    },
    {
      "alias": [
        "rx"
      ],
      "choices": [],
      "default": 16,
      "description": "<dd><p>Specify the maximum extent of movement in x and y directions in the\nrange 0-64 pixels. Default 16.\n</p>\n</dd>",
      "name": "rx",
      "required": false,
      "typing": "int"
    },
    {
      "alias": [
        "ry"
      ],
      "choices": [],
      "default": 16,
      "description": "<dd><p>Specify the maximum extent of movement in x and y directions in the\nrange 0-64 pixels. Default 16.\n</p>\n</dd>",
      "name": "ry",
      "required": false,
      "typing": "int"
    },
    {
      "alias": [
        "edge"
      ],
      "choices": [
        {
          "help": "fill zeroes at blank locations",
          "name": "blank",
          "value": "FILL_BLANK"
        },
        {
          "help": "original image at blank locations",
          "name": "original",
          "value": "FILL_ORIGINAL"
        },
        {
          "help": "extruded edge value at blank locations",
          "name": "clamp",
          "value": "FILL_CLAMP"
        },
        {
          "help": "mirrored edge at blank locations",
          "name": "mirror",
          "value": "FILL_MIRROR"
        }
      ],
      "default": "FILL_MIRROR",
      "description": "<dd><p>Specify how to generate pixels to fill blanks at the edge of the\nframe. Available values are:\n</p><dl compact=\"compact\">\n<dt>\u2018<samp>blank, 0</samp>\u2019</dt>\n<dd><p>Fill zeroes at blank locations\n</p></dd>\n<dt>\u2018<samp>original, 1</samp>\u2019</dt>\n<dd><p>Original image at blank locations\n</p></dd>\n<dt>\u2018<samp>clamp, 2</samp>\u2019</dt>\n<dd><p>Extruded edge value at blank locations\n</p></dd>\n<dt>\u2018<samp>mirror, 3</samp>\u2019</dt>\n<dd><p>Mirrored edge at blank locations\n</p></dd>\n</dl>\n<p>Default value is \u2018<samp>mirror</samp>\u2019.\n</p>\n</dd>",
      "name": "edge",
      "required": false,
      "typing": "int"
    },
    {
      "alias": [
        "blocksize"
      ],
      "choices": [],
      "default": 8,
      "description": "<dd><p>Specify the blocksize to use for motion search. Range 4-128 pixels,\ndefault 8.\n</p>\n</dd>",
      "name": "blocksize",
      "required": false,
      "typing": "int"
    },
    {
      "alias": [
        "contrast"
      ],
      "choices": [],
      "default": 125,
      "description": "<dd><p>Specify the contrast threshold for blocks. Only blocks with more than\nthe specified contrast (difference between darkest and lightest\npixels) will be considered. Range 1-255, default 125.\n</p>\n</dd>",
      "name": "contrast",
      "required": false,
      "typing": "int"
    },
    {
      "alias": [
        "search"
      ],
      "choices": [
        {
          "help": "exhaustive search",
          "name": "exhaustive",
          "value": "EXHAUSTIVE"
        },
        {
          "help": "less exhaustive search",
          "name": "less",
          "value": "SMART_EXHAUSTIVE"
        }
      ],
      "default": "EXHAUSTIVE",
      "description": "<dd><p>Specify the search strategy. Available values are:\n</p><dl compact=\"compact\">\n<dt>\u2018<samp>exhaustive, 0</samp>\u2019</dt>\n<dd><p>Set exhaustive search\n</p></dd>\n<dt>\u2018<samp>less, 1</samp>\u2019</dt>\n<dd><p>Set less exhaustive search.\n</p></dd>\n</dl>\n<p>Default value is \u2018<samp>exhaustive</samp>\u2019.\n</p>\n</dd>",
      "name": "search",
      "required": false,
      "typing": "int"
    },
    {
      "alias": [
        "filename"
      ],
      "choices": [],
      "default": "((void*)0)",
      "description": "<dd><p>If set then a detailed log of the motion search is written to the\nspecified file.\n</p>\n</dd>",
      "name": "filename",
      "required": true,
      "typing": "str"
    },
    {
      "alias": [
        "opencl"
      ],
      "choices": [],
      "default": 0,
      "description": null,
      "name": "opencl",
      "required": false,
      "typing": "bool"
    }
  ],
  "output_stream_typings": [
    {
      "name": "default",
      "type": "AVMEDIA_TYPE_VIDEO"
    }
  ],
  "ref": "https://ffmpeg.org/ffmpeg-filters.html#deshake"
}
