{
  "description": "### 11.200 psnr\n\nObtain the average, maximum and minimum PSNR (Peak Signal to Noise\nRatio) between two input videos.\n\n\nThis filter takes in input two input videos, the first input is\nconsidered the \"main\" source and is passed unchanged to the\noutput. The second input is used as a \"reference\" video for computing\nthe PSNR.\n\n\nBoth video inputs must have the same resolution and pixel format for\nthis filter to work correctly. Also it assumes that both inputs\nhave the same number of frames, which are compared one by one.\n\n\nThe obtained average PSNR is printed through the logging system.\n\n\nThe filter stores the accumulated MSE (mean squared error) of each\nframe, and at the end of the processing it is averaged across all frames\nequally, and the following formula is applied to obtain the PSNR:\n\n\nWhere MAX is the average of the maximum values of each component of the\nimage.\n\n\nThe description of the accepted parameters follows.\n\n\n- **`stats_file, f`**\n  - If specified the filter will use the named file to save the PSNR of\neach individual frame. When filename equals \"-\" the data is sent to\nstandard output.\n- **`stats_version`**\n  - Specifies which version of the stats file format to use. Details of\neach format are written below.\nDefault value is 1.\n- **`stats_add_max`**\n  - Determines whether the max value is output to the stats log.\nDefault value is 0.\nRequires stats_version >= 2. If this is set and stats_version < 2,\nthe filter will return an error.\nIf specified the filter will use the named file to save the PSNR of\neach individual frame. When filename equals \"-\" the data is sent to\nstandard output.\n\n\nSpecifies which version of the stats file format to use. Details of\neach format are written below.\nDefault value is 1.\n\n\nDetermines whether the max value is output to the stats log.\nDefault value is 0.\nRequires stats_version >= 2. If this is set and stats_version < 2,\nthe filter will return an error.\n\n\nThis filter also supports the framesync options.\n\n\nThe file printed if stats_file is selected, contains a sequence of\nkey/value pairs of the form key:value for each compared\ncouple of frames.\n\n\nIf a stats_version greater than 1 is specified, a header line precedes\nthe list of per-frame-pair stats, with key value pairs following the frame\nformat with the following parameters:\n\n\n- **`psnr_log_version`**\n  - The version of the log file format. Will match\nstats_version\n.\n- **`fields`**\n  - A comma separated list of the per-frame-pair parameters included in\nthe log.\nThe version of the log file format. Will match stats_version.\n\n\nA comma separated list of the per-frame-pair parameters included in\nthe log.\n\n\nA description of each shown per-frame-pair parameter follows:\n\n\n- **`n`**\n  - sequential number of the input frame, starting from 1\n- **`mse_avg`**\n  - Mean Square Error pixel-by-pixel average difference of the compared\nframes, averaged over all the image components.\n- **`mse_y, mse_u, mse_v, mse_r, mse_g, mse_b, mse_a`**\n  - Mean Square Error pixel-by-pixel average difference of the compared\nframes for the component specified by the suffix.\n- **`psnr_y, psnr_u, psnr_v, psnr_r, psnr_g, psnr_b, psnr_a`**\n  - Peak Signal to Noise ratio of the compared frames for the component\nspecified by the suffix.\n- **`max_avg, max_y, max_u, max_v`**\n  - Maximum allowed value for each channel, and average over all\nchannels.\nsequential number of the input frame, starting from 1\n\n\nMean Square Error pixel-by-pixel average difference of the compared\nframes, averaged over all the image components.\n\n\nMean Square Error pixel-by-pixel average difference of the compared\nframes for the component specified by the suffix.\n\n\nPeak Signal to Noise ratio of the compared frames for the component\nspecified by the suffix.\n\n\nMaximum allowed value for each channel, and average over all\nchannels.\n\n\n",
  "filter_type": "vf",
  "formula_input_typings": null,
  "formula_output_typings": null,
  "id": "ff_vf_psnr",
  "input_stream_typings": [
    {
      "name": "main",
      "type": "AVMEDIA_TYPE_VIDEO"
    },
    {
      "name": "reference",
      "type": "AVMEDIA_TYPE_VIDEO"
    }
  ],
  "is_input_dynamic": false,
  "is_output_dynamic": false,
  "name": "psnr",
  "options": [
    {
      "alias": [
        "stats_file",
        "f"
      ],
      "choices": [],
      "default": "((void*)0)",
      "description": "<dd><p>If specified the filter will use the named file to save the PSNR of\neach individual frame. When filename equals \"-\" the data is sent to\nstandard output.\n</p>\n</dd>",
      "name": "stats_file",
      "required": true,
      "typing": "str"
    },
    {
      "alias": [
        "stats_version"
      ],
      "choices": [],
      "default": 1,
      "description": "<dd><p>Specifies which version of the stats file format to use. Details of\neach format are written below.\nDefault value is 1.\n</p>\n</dd>",
      "name": "stats_version",
      "required": false,
      "typing": "int"
    },
    {
      "alias": [
        "output_max"
      ],
      "choices": [],
      "default": 0,
      "description": null,
      "name": "output_max",
      "required": false,
      "typing": "bool"
    }
  ],
  "output_stream_typings": [
    {
      "name": "default",
      "type": "AVMEDIA_TYPE_VIDEO"
    }
  ],
  "ref": "https://ffmpeg.org/ffmpeg-filters.html#psnr"
}
