{
  "description": "### 11.13 blackdetect\n\nDetect video intervals that are (almost) completely black. Can be useful to\ndetect chapter transitions, commercials, or invalid recordings.\n\nThe filter outputs its detection analysis to both the log as well as frame\nmetadata. If a black segment of at least the specified minimum duration is\nfound, a line with the start and end timestamps as well as duration is printed\nto the log with level `info`. In addition, a log line with level `debug` is\nprinted per frame showing the black amount detected for that frame.\n\nThe filter also attaches metadata to the first frame of a black segment with\nkey `lavfi.black_start` and to the first frame after the black segment ends\nwith key `lavfi.black_end`. The value is the frame\u2019s timestamp. This metadata\nis added regardless of the minimum duration specified.\n\nThe filter accepts the following options:\n\n**black_min_duration, d**\n\n    Set the minimum detected black duration expressed in seconds. It must be a non-negative floating point number. Default value is 2.0. \n\n**picture_black_ratio_th, pic_th**\n\n    Set the threshold for considering a picture \"black\". Express the minimum value for the ratio: nb_black_pixels / nb_pixels for which a picture is considered black. Default value is 0.98. \n\n**pixel_black_th, pix_th**\n\n    Set the threshold for considering a pixel \"black\". The threshold expresses the maximum pixel luma value for which a pixel is considered \"black\". The provided value is scaled according to the following equation: absolute_threshold = luma_minimum_value + pixel_black_th * luma_range_size luma_range_size and luma_minimum_value depend on the input video format, the range is [0-255] for YUV full-range formats and [16-235] for YUV non full-range formats. Default value is 0.10. \n\nThe following example sets the maximum pixel threshold to the minimum value,\nand detects only black intervals of 2 or more seconds:\n\n    \n    \n    blackdetect=d=2:pix_th=0.00\n    \n\n",
  "filter_type": "vf",
  "formula_input_typings": null,
  "formula_output_typings": null,
  "id": "ff_vf_blackdetect",
  "input_stream_typings": [
    {
      "name": "default",
      "type": "AVMEDIA_TYPE_VIDEO"
    }
  ],
  "is_input_dynamic": false,
  "is_output_dynamic": false,
  "is_support_timeline": false,
  "name": "blackdetect",
  "options": [
    {
      "alias": [
        "d",
        "black_min_duration"
      ],
      "choices": [],
      "default": 2.0,
      "description": "<dd><p>Set the minimum detected black duration expressed in seconds. It must\nbe a non-negative floating point number.\n</p>\n<p>Default value is 2.0.\n</p>\n</dd>",
      "name": "d",
      "required": false,
      "typing": "float"
    },
    {
      "alias": [
        "picture_black_ratio_th",
        "pic_th"
      ],
      "choices": [],
      "default": 0.98,
      "description": "<dd><p>Set the threshold for considering a picture \"black\".\nExpress the minimum value for the ratio:\n</p><div class=\"example\">\n<pre class=\"example\"><var>nb_black_pixels</var> / <var>nb_pixels</var>\n</pre></div>\n<p>for which a picture is considered black.\nDefault value is 0.98.\n</p>\n</dd>",
      "name": "picture_black_ratio_th",
      "required": false,
      "typing": "float"
    },
    {
      "alias": [
        "pixel_black_th",
        "pix_th"
      ],
      "choices": [],
      "default": 0.1,
      "description": "<dd><p>Set the threshold for considering a pixel \"black\".\n</p>\n<p>The threshold expresses the maximum pixel luma value for which a\npixel is considered \"black\". The provided value is scaled according to\nthe following equation:\n</p><div class=\"example\">\n<pre class=\"example\"><var>absolute_threshold</var> = <var>luma_minimum_value</var> + <var>pixel_black_th</var> * <var>luma_range_size</var>\n</pre></div>\n<p><var>luma_range_size</var> and <var>luma_minimum_value</var> depend on\nthe input video format, the range is [0-255] for YUV full-range\nformats and [16-235] for YUV non full-range formats.\n</p>\n<p>Default value is 0.10.\n</p></dd>",
      "name": "pixel_black_th",
      "required": false,
      "typing": "float"
    }
  ],
  "output_stream_typings": [
    {
      "name": "default",
      "type": "AVMEDIA_TYPE_VIDEO"
    }
  ],
  "ref": "https://ffmpeg.org/ffmpeg-filters.html#blackdetect"
}
