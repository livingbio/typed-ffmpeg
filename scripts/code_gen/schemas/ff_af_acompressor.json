{
  "description": "### 8.2 acompressor\n\nA compressor is mainly used to reduce the dynamic range of a signal.\nEspecially modern music is mostly compressed at a high ratio to improve the\noverall loudness. It\u2019s done to get the highest attention of a listener,\n\"fatten\" the sound and bring more \"power\" to the track. If a signal is\ncompressed too much it may sound dull or \"dead\" afterwards or it may start to\n\"pump\" (which could be a powerful effect but can also destroy a track\ncompletely). The right compression is the key to reach a professional sound\nand is the high art of mixing and mastering. Because of its complex settings\nit may take a long time to get the right feeling for this kind of effect.\n\nCompression is done by detecting the volume above a chosen level `threshold`\nand dividing it by the factor set with `ratio`. So if you set the threshold to\n-12dB and your signal reaches -6dB a ratio of 2:1 will result in a signal at\n-9dB. Because an exact manipulation of the signal would cause distortion of\nthe waveform the reduction can be levelled over the time. This is done by\nsetting \"Attack\" and \"Release\". `attack` determines how long the signal has to\nrise above the threshold before any reduction will occur and `release` sets\nthe time the signal has to fall below the threshold to reduce the reduction\nagain. Shorter signals than the chosen attack time will be left untouched. The\noverall reduction of the signal can be made up afterwards with the `makeup`\nsetting. So compressing the peaks of a signal about 6dB and raising the makeup\nto this level results in a signal twice as loud than the source. To gain a\nsofter entry in the compression the `knee` flattens the hard edge at the\nthreshold in the range of the chosen decibels.\n\nThe filter accepts the following options:\n\n**level_in**\n\n    Set input gain. Default is 1. Range is between 0.015625 and 64. \n\n**mode**\n\n    Set mode of compressor operation. Can be upward or downward. Default is downward. \n\n**threshold**\n\n    If a signal of stream rises above this level it will affect the gain reduction. By default it is 0.125. Range is between 0.00097563 and 1. \n\n**ratio**\n\n    Set a ratio by which the signal is reduced. 1:2 means that if the level rose 4dB above the threshold, it will be only 2dB above after the reduction. Default is 2. Range is between 1 and 20. \n\n**attack**\n\n    Amount of milliseconds the signal has to rise above the threshold before gain reduction starts. Default is 20. Range is between 0.01 and 2000. \n\n**release**\n\n    Amount of milliseconds the signal has to fall below the threshold before reduction is decreased again. Default is 250. Range is between 0.01 and 9000. \n\n**makeup**\n\n    Set the amount by how much signal will be amplified after processing. Default is 1. Range is from 1 to 64. \n\n**knee**\n\n    Curve the sharp knee around the threshold to enter gain reduction more softly. Default is 2.82843. Range is between 1 and 8. \n\n**link**\n\n    Choose if the average level between all channels of input stream or the louder(maximum) channel of input stream affects the reduction. Default is average. \n\n**detection**\n\n    Should the exact signal be taken in case of peak or an RMS one in case of rms. Default is rms which is mostly smoother. \n\n**mix**\n\n    How much to use compressed signal in output. Default is 1. Range is between 0 and 1. \n\n",
  "filter_type": "af",
  "formula_input_typings": null,
  "formula_output_typings": null,
  "id": "ff_af_acompressor",
  "input_stream_typings": [
    {
      "name": "default",
      "type": "AVMEDIA_TYPE_AUDIO"
    }
  ],
  "is_input_dynamic": false,
  "is_output_dynamic": false,
  "is_support_timeline": false,
  "name": "acompressor",
  "options": [
    {
      "alias": [
        "level_in"
      ],
      "choices": [],
      "default": 1.0,
      "description": "<dd><p>Set input gain. Default is 1. Range is between 0.015625 and 64.\n</p>\n</dd>",
      "name": "level_in",
      "required": false,
      "typing": "float"
    },
    {
      "alias": [
        "mode"
      ],
      "choices": [
        {
          "help": "0",
          "name": "downward",
          "value": 0
        },
        {
          "help": "0",
          "name": "upward",
          "value": 1
        }
      ],
      "default": 0,
      "description": "<dd><p>Set mode of compressor operation. Can be <code>upward</code> or <code>downward</code>.\nDefault is <code>downward</code>.\n</p>\n</dd>",
      "name": "mode",
      "required": false,
      "typing": "int"
    },
    {
      "alias": [
        "threshold"
      ],
      "choices": [],
      "default": 0.125,
      "description": "<dd><p>If a signal of stream rises above this level it will affect the gain\nreduction.\nBy default it is 0.125. Range is between 0.00097563 and 1.\n</p>\n</dd>",
      "name": "threshold",
      "required": false,
      "typing": "float"
    },
    {
      "alias": [
        "ratio"
      ],
      "choices": [],
      "default": 2.0,
      "description": "<dd><p>Set a ratio by which the signal is reduced. 1:2 means that if the level\nrose 4dB above the threshold, it will be only 2dB above after the reduction.\nDefault is 2. Range is between 1 and 20.\n</p>\n</dd>",
      "name": "ratio",
      "required": false,
      "typing": "float"
    },
    {
      "alias": [
        "attack"
      ],
      "choices": [],
      "default": 20.0,
      "description": "<dd><p>Amount of milliseconds the signal has to rise above the threshold before gain\nreduction starts. Default is 20. Range is between 0.01 and 2000.\n</p>\n</dd>",
      "name": "attack",
      "required": false,
      "typing": "float"
    },
    {
      "alias": [
        "release"
      ],
      "choices": [],
      "default": 250.0,
      "description": "<dd><p>Amount of milliseconds the signal has to fall below the threshold before\nreduction is decreased again. Default is 250. Range is between 0.01 and 9000.\n</p>\n</dd>",
      "name": "release",
      "required": false,
      "typing": "float"
    },
    {
      "alias": [
        "makeup"
      ],
      "choices": [],
      "default": 1.0,
      "description": "<dd><p>Set the amount by how much signal will be amplified after processing.\nDefault is 1. Range is from 1 to 64.\n</p>\n</dd>",
      "name": "makeup",
      "required": false,
      "typing": "float"
    },
    {
      "alias": [
        "knee"
      ],
      "choices": [],
      "default": 2.82843,
      "description": "<dd><p>Curve the sharp knee around the threshold to enter gain reduction more softly.\nDefault is 2.82843. Range is between 1 and 8.\n</p>\n</dd>",
      "name": "knee",
      "required": false,
      "typing": "float"
    },
    {
      "alias": [
        "link"
      ],
      "choices": [
        {
          "help": "0",
          "name": "average",
          "value": 0
        },
        {
          "help": "0",
          "name": "maximum",
          "value": 1
        }
      ],
      "default": 0,
      "description": "<dd><p>Choose if the <code>average</code> level between all channels of input stream\nor the louder(<code>maximum</code>) channel of input stream affects the\nreduction. Default is <code>average</code>.\n</p>\n</dd>",
      "name": "link",
      "required": false,
      "typing": "int"
    },
    {
      "alias": [
        "detection"
      ],
      "choices": [
        {
          "help": "0",
          "name": "peak",
          "value": 0
        },
        {
          "help": "0",
          "name": "rms",
          "value": 1
        }
      ],
      "default": 1,
      "description": "<dd><p>Should the exact signal be taken in case of <code>peak</code> or an RMS one in case\nof <code>rms</code>. Default is <code>rms</code> which is mostly smoother.\n</p>\n</dd>",
      "name": "detection",
      "required": false,
      "typing": "int"
    },
    {
      "alias": [
        "level_sc"
      ],
      "choices": [],
      "default": 1.0,
      "description": "set sidechain gain",
      "name": "level_sc",
      "required": false,
      "typing": "float"
    },
    {
      "alias": [
        "mix"
      ],
      "choices": [],
      "default": 1.0,
      "description": "<dd><p>How much to use compressed signal in output. Default is 1.\nRange is between 0 and 1.\n</p></dd>",
      "name": "mix",
      "required": false,
      "typing": "float"
    }
  ],
  "output_stream_typings": [
    {
      "name": "default",
      "type": "AVMEDIA_TYPE_AUDIO"
    }
  ],
  "ref": "https://ffmpeg.org/ffmpeg-filters.html#acompressor"
}
