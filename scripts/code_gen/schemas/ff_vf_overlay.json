{
  "description": "### 11.183 overlay\n\nOverlay one video on top of another.\n\n\nIt takes two inputs and has one output. The first input is the \"main\"\nvideo on which the second input is overlaid.\n\n\nIt accepts the following parameters:\n\n\nA description of the accepted options follows.\n\n\n- **`x`**\n- **`y`**\n  - Set the expression for the x and y coordinates of the overlaid video\non the main video. Default value is \"0\" for both expressions. In case\nthe expression is invalid, it is set to a huge value (meaning that the\noverlay will not be displayed within the output visible area).\n- **`eof_action`**\n  - See\nframesync\n.\n- **`eval`**\n  - Set when the expressions for\nx\n, and\ny\nare evaluated.\nIt accepts the following values:\n\u2018\ninit\n\u2019\nonly evaluate expressions once during the filter initialization or\nwhen a command is processed\n\u2018\nframe\n\u2019\nevaluate expressions for each incoming frame\nDefault value is \u2018\nframe\n\u2019.\n- **`shortest`**\n  - See\nframesync\n.\n- **`format`**\n  - Set the format for the output video.\nIt accepts the following values:\n\u2018\nyuv420\n\u2019\nforce YUV 4:2:0 8-bit planar output\n\u2018\nyuv420p10\n\u2019\nforce YUV 4:2:0 10-bit planar output\n\u2018\nyuv422\n\u2019\nforce YUV 4:2:2 8-bit planar output\n\u2018\nyuv422p10\n\u2019\nforce YUV 4:2:2 10-bit planar output\n\u2018\nyuv444\n\u2019\nforce YUV 4:4:4 8-bit planar output\n\u2018\nyuv444p10\n\u2019\nforce YUV 4:4:4 10-bit planar output\n\u2018\nrgb\n\u2019\nforce RGB 8-bit packed output\n\u2018\ngbrp\n\u2019\nforce RGB 8-bit planar output\n\u2018\nauto\n\u2019\nautomatically pick format\nDefault value is \u2018\nyuv420\n\u2019.\n- **`repeatlast`**\n  - See\nframesync\n.\n- **`alpha`**\n  - Set format of alpha of the overlaid video, it can be\nstraight\nor\npremultiplied\n. Default is\nstraight\n.\nSet the expression for the x and y coordinates of the overlaid video\non the main video. Default value is \"0\" for both expressions. In case\nthe expression is invalid, it is set to a huge value (meaning that the\noverlay will not be displayed within the output visible area).\n\n\nSee framesync.\n\n\nSet when the expressions for x, and y are evaluated.\n\n\nIt accepts the following values:\n\n\n- **`\u2018init\u2019`**\n  - only evaluate expressions once during the filter initialization or\nwhen a command is processed\n- **`\u2018frame\u2019`**\n  - evaluate expressions for each incoming frame\nonly evaluate expressions once during the filter initialization or\nwhen a command is processed\n\n\nevaluate expressions for each incoming frame\n\n\nDefault value is \u2018frame\u2019.\n\n\nSee framesync.\n\n\nSet the format for the output video.\n\n\nIt accepts the following values:\n\n\n- **`\u2018yuv420\u2019`**\n  - force YUV 4:2:0 8-bit planar output\n- **`\u2018yuv420p10\u2019`**\n  - force YUV 4:2:0 10-bit planar output\n- **`\u2018yuv422\u2019`**\n  - force YUV 4:2:2 8-bit planar output\n- **`\u2018yuv422p10\u2019`**\n  - force YUV 4:2:2 10-bit planar output\n- **`\u2018yuv444\u2019`**\n  - force YUV 4:4:4 8-bit planar output\n- **`\u2018yuv444p10\u2019`**\n  - force YUV 4:4:4 10-bit planar output\n- **`\u2018rgb\u2019`**\n  - force RGB 8-bit packed output\n- **`\u2018gbrp\u2019`**\n  - force RGB 8-bit planar output\n- **`\u2018auto\u2019`**\n  - automatically pick format\nforce YUV 4:2:0 8-bit planar output\n\n\nforce YUV 4:2:0 10-bit planar output\n\n\nforce YUV 4:2:2 8-bit planar output\n\n\nforce YUV 4:2:2 10-bit planar output\n\n\nforce YUV 4:4:4 8-bit planar output\n\n\nforce YUV 4:4:4 10-bit planar output\n\n\nforce RGB 8-bit packed output\n\n\nforce RGB 8-bit planar output\n\n\nautomatically pick format\n\n\nDefault value is \u2018yuv420\u2019.\n\n\nSee framesync.\n\n\nSet format of alpha of the overlaid video, it can be straight or\npremultiplied. Default is straight.\n\n\nThe x, and y expressions can contain the following\nparameters.\n\n\n- **`main_w, W`**\n- **`main_h, H`**\n  - The main input width and height.\n- **`overlay_w, w`**\n- **`overlay_h, h`**\n  - The overlay input width and height.\n- **`x`**\n- **`y`**\n  - The computed values for\nx\nand\ny\n. They are evaluated for\neach new frame.\n- **`hsub`**\n- **`vsub`**\n  - horizontal and vertical chroma subsample values of the output\nformat. For example for the pixel format \"yuv422p\"\nhsub\nis 2 and\nvsub\nis 1.\n- **`n`**\n  - the number of input frame, starting from 0\n- **`pos`**\n  - the position in the file of the input frame, NAN if unknown; deprecated,\ndo not use\n- **`t`**\n  - The timestamp, expressed in seconds. It\u2019s NAN if the input timestamp is unknown.\nThe main input width and height.\n\n\nThe overlay input width and height.\n\n\nThe computed values for x and y. They are evaluated for\neach new frame.\n\n\nhorizontal and vertical chroma subsample values of the output\nformat. For example for the pixel format \"yuv422p\" hsub is 2 and\nvsub is 1.\n\n\nthe number of input frame, starting from 0\n\n\nthe position in the file of the input frame, NAN if unknown; deprecated,\ndo not use\n\n\nThe timestamp, expressed in seconds. It\u2019s NAN if the input timestamp is unknown.\n\n\nThis filter also supports the framesync options.\n\n\nNote that the n, t variables are available only\nwhen evaluation is done per frame, and will evaluate to NAN\nwhen eval is set to \u2018init\u2019.\n\n\nBe aware that frames are taken from each input video in timestamp\norder, hence, if their initial timestamps differ, it is a good idea\nto pass the two inputs through a setpts=PTS-STARTPTS filter to\nhave them begin in the same zero timestamp, as the example for\nthe movie filter does.\n\n\nYou can chain together more overlays but you should test the\nefficiency of such approach.\n\n\n",
  "filter_type": "vf",
  "formula_input_typings": null,
  "formula_output_typings": null,
  "id": "ff_vf_overlay",
  "input_stream_typings": [
    {
      "name": "main",
      "type": "AVMEDIA_TYPE_VIDEO"
    },
    {
      "name": "overlay",
      "type": "AVMEDIA_TYPE_VIDEO"
    }
  ],
  "is_input_dynamic": false,
  "is_output_dynamic": false,
  "name": "overlay",
  "options": [
    {
      "alias": [
        "x"
      ],
      "choices": [],
      "default": "0",
      "description": "<dd><p>Set the expression for the x and y coordinates of the overlaid video\non the main video. Default value is \"0\" for both expressions. In case\nthe expression is invalid, it is set to a huge value (meaning that the\noverlay will not be displayed within the output visible area).\n</p>\n</dd>",
      "name": "x",
      "required": false,
      "typing": "str"
    },
    {
      "alias": [
        "y"
      ],
      "choices": [],
      "default": "0",
      "description": "<dd><p>Set the expression for the x and y coordinates of the overlaid video\non the main video. Default value is \"0\" for both expressions. In case\nthe expression is invalid, it is set to a huge value (meaning that the\noverlay will not be displayed within the output visible area).\n</p>\n</dd>",
      "name": "y",
      "required": false,
      "typing": "str"
    },
    {
      "alias": [
        "eof_action"
      ],
      "choices": [
        {
          "help": "Repeat the previous frame.",
          "name": "repeat",
          "value": "EOF_ACTION_REPEAT"
        },
        {
          "help": "End both streams.",
          "name": "endall",
          "value": "EOF_ACTION_ENDALL"
        },
        {
          "help": "Pass through the main input.",
          "name": "pass",
          "value": "EOF_ACTION_PASS"
        }
      ],
      "default": "EOF_ACTION_REPEAT",
      "description": "<dd><p>See <a href=\"#framesync\">framesync</a>.\n</p>\n</dd>",
      "name": "eof_action",
      "required": false,
      "typing": "int"
    },
    {
      "alias": [
        "eval"
      ],
      "choices": [],
      "default": "EVAL_MODE_FRAME",
      "description": "<dd><p>Set when the expressions for <samp>x</samp>, and <samp>y</samp> are evaluated.\n</p>\n<p>It accepts the following values:\n</p><dl compact=\"compact\">\n<dt>\u2018<samp>init</samp>\u2019</dt>\n<dd><p>only evaluate expressions once during the filter initialization or\nwhen a command is processed\n</p>\n</dd>\n<dt>\u2018<samp>frame</samp>\u2019</dt>\n<dd><p>evaluate expressions for each incoming frame\n</p></dd>\n</dl>\n<p>Default value is \u2018<samp>frame</samp>\u2019.\n</p>\n</dd>",
      "name": "eval",
      "required": false,
      "typing": "int"
    },
    {
      "alias": [
        "shortest"
      ],
      "choices": [],
      "default": 0,
      "description": "<dd><p>See <a href=\"#framesync\">framesync</a>.\n</p>\n</dd>",
      "name": "shortest",
      "required": false,
      "typing": "bool"
    },
    {
      "alias": [
        "format"
      ],
      "choices": [],
      "default": "OVERLAY_FORMAT_YUV420",
      "description": "<dd><p>Set the format for the output video.\n</p>\n<p>It accepts the following values:\n</p><dl compact=\"compact\">\n<dt>\u2018<samp>yuv420</samp>\u2019</dt>\n<dd><p>force YUV 4:2:0 8-bit planar output\n</p>\n</dd>\n<dt>\u2018<samp>yuv420p10</samp>\u2019</dt>\n<dd><p>force YUV 4:2:0 10-bit planar output\n</p>\n</dd>\n<dt>\u2018<samp>yuv422</samp>\u2019</dt>\n<dd><p>force YUV 4:2:2 8-bit planar output\n</p>\n</dd>\n<dt>\u2018<samp>yuv422p10</samp>\u2019</dt>\n<dd><p>force YUV 4:2:2 10-bit planar output\n</p>\n</dd>\n<dt>\u2018<samp>yuv444</samp>\u2019</dt>\n<dd><p>force YUV 4:4:4 8-bit planar output\n</p>\n</dd>\n<dt>\u2018<samp>yuv444p10</samp>\u2019</dt>\n<dd><p>force YUV 4:4:4 10-bit planar output\n</p>\n</dd>\n<dt>\u2018<samp>rgb</samp>\u2019</dt>\n<dd><p>force RGB 8-bit packed output\n</p>\n</dd>\n<dt>\u2018<samp>gbrp</samp>\u2019</dt>\n<dd><p>force RGB 8-bit planar output\n</p>\n</dd>\n<dt>\u2018<samp>auto</samp>\u2019</dt>\n<dd><p>automatically pick format\n</p></dd>\n</dl>\n<p>Default value is \u2018<samp>yuv420</samp>\u2019.\n</p>\n</dd>",
      "name": "format",
      "required": false,
      "typing": "int"
    },
    {
      "alias": [
        "repeatlast"
      ],
      "choices": [],
      "default": 1,
      "description": "<dd><p>See <a href=\"#framesync\">framesync</a>.\n</p>\n</dd>",
      "name": "repeatlast",
      "required": false,
      "typing": "bool"
    },
    {
      "alias": [
        "alpha"
      ],
      "choices": [],
      "default": 0,
      "description": "<dd><p>Set format of alpha of the overlaid video, it can be <var>straight</var> or\n<var>premultiplied</var>. Default is <var>straight</var>.\n</p></dd>",
      "name": "alpha",
      "required": false,
      "typing": "int"
    }
  ],
  "output_stream_typings": [
    {
      "name": "default",
      "type": "AVMEDIA_TYPE_VIDEO"
    }
  ],
  "ref": "https://ffmpeg.org/ffmpeg-filters.html#overlay"
}
