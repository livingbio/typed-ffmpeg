interactions:
- request:
    body: '{"messages": [{"role": "system", "content": "\n- You possess expertise
      in FFmpeg.\n- I kindly request your assistance in the conversion of specific
      FFmpeg filter document options into a JSON schema.\n- Please be aware that certain
      FFmpeg filter documents may require reference to other documents, which will
      be provided for your thorough consideration.\n- Only generate the JSON schema
      for the asking filter, and not any other filters.\n"}, {"role": "user", "content":
      "please generate JSON Schema for idet''s options only\n## idet\n<h3 class=\"section\"><a
      href=\"#toc-idet\">11.135 idet</a></h3>\n\n<p>Detect video interlacing type.\n</p>\n<p>This
      filter tries to detect if the input frames are interlaced, progressive,\ntop
      or bottom field first. It will also try to detect fields that are\nrepeated
      between adjacent frames (a sign of telecine).\n</p>\n<p>Single frame detection
      considers only immediately adjacent frames when classifying each frame.\nMultiple
      frame detection incorporates the classification history of previous frames.\n</p>\n<p>The
      filter will log these metadata values:\n</p>\n<dl compact=\"compact\">\n<dt><samp>single.current_frame</samp></dt>\n<dd><p>Detected
      type of current frame using single-frame detection. One of:\n&ldquo;tff&rdquo;
      (top field first), &ldquo;bff&rdquo; (bottom field first),\n&ldquo;progressive&rdquo;,
      or &ldquo;undetermined&rdquo;\n</p>\n</dd>\n<dt><samp>single.tff</samp></dt>\n<dd><p>Cumulative
      number of frames detected as top field first using single-frame detection.\n</p>\n</dd>\n<dt><samp>multiple.tff</samp></dt>\n<dd><p>Cumulative
      number of frames detected as top field first using multiple-frame detection.\n</p>\n</dd>\n<dt><samp>single.bff</samp></dt>\n<dd><p>Cumulative
      number of frames detected as bottom field first using single-frame detection.\n</p>\n</dd>\n<dt><samp>multiple.current_frame</samp></dt>\n<dd><p>Detected
      type of current frame using multiple-frame detection. One of:\n&ldquo;tff&rdquo;
      (top field first), &ldquo;bff&rdquo; (bottom field first),\n&ldquo;progressive&rdquo;,
      or &ldquo;undetermined&rdquo;\n</p>\n</dd>\n<dt><samp>multiple.bff</samp></dt>\n<dd><p>Cumulative
      number of frames detected as bottom field first using multiple-frame detection.\n</p>\n</dd>\n<dt><samp>single.progressive</samp></dt>\n<dd><p>Cumulative
      number of frames detected as progressive using single-frame detection.\n</p>\n</dd>\n<dt><samp>multiple.progressive</samp></dt>\n<dd><p>Cumulative
      number of frames detected as progressive using multiple-frame detection.\n</p>\n</dd>\n<dt><samp>single.undetermined</samp></dt>\n<dd><p>Cumulative
      number of frames that could not be classified using single-frame detection.\n</p>\n</dd>\n<dt><samp>multiple.undetermined</samp></dt>\n<dd><p>Cumulative
      number of frames that could not be classified using multiple-frame detection.\n</p>\n</dd>\n<dt><samp>repeated.current_frame</samp></dt>\n<dd><p>Which
      field in the current frame is repeated from the last. One of &ldquo;neither&rdquo;,
      &ldquo;top&rdquo;, or &ldquo;bottom&rdquo;.\n</p>\n</dd>\n<dt><samp>repeated.neither</samp></dt>\n<dd><p>Cumulative
      number of frames with no repeated field.\n</p>\n</dd>\n<dt><samp>repeated.top</samp></dt>\n<dd><p>Cumulative
      number of frames with the top field repeated from the previous frame&rsquo;s
      top field.\n</p>\n</dd>\n<dt><samp>repeated.bottom</samp></dt>\n<dd><p>Cumulative
      number of frames with the bottom field repeated from the previous frame&rsquo;s
      bottom field.\n</p></dd>\n</dl>\n\n<p>The filter accepts the following options:\n</p>\n<dl
      compact=\"compact\">\n<dt><samp>intl_thres</samp></dt>\n<dd><p>Set interlacing
      threshold.\n</p></dd>\n<dt><samp>prog_thres</samp></dt>\n<dd><p>Set progressive
      threshold.\n</p></dd>\n<dt><samp>rep_thres</samp></dt>\n<dd><p>Threshold for
      repeated field detection.\n</p></dd>\n<dt><samp>half_life</samp></dt>\n<dd><p>Number
      of frames after which a given frame&rsquo;s contribution to the\nstatistics
      is halved (i.e., it contributes only 0.5 to its\nclassification). The default
      of 0 means that all frames seen are given\nfull weight of 1.0 forever.\n</p></dd>\n<dt><samp>analyze_interlaced_flag</samp></dt>\n<dd><p>When
      this is not 0 then idet will use the specified number of frames to determine\nif
      the interlaced flag is accurate, it will not count undetermined frames.\nIf
      the flag is found to be accurate it will be used without any further\ncomputations,
      if it is found to be inaccurate it will be cleared without any\nfurther computations.
      This allows inserting the idet filter as a low computational\nmethod to clean
      up the interlaced flag\n</p></dd>\n</dl>\n\n## reference\n"}], "model": "gpt-3.5-turbo",
      "temperature": 0.0}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate
      connection:
      - keep-alive
      content-length:
      - '4675'
      content-type:
      - application/json
      host:
      - gstudio.openai.azure.com
      user-agent:
      - AzureOpenAI/Python 1.6.0
      x-stainless-arch:
      - arm64
      x-stainless-async:
      - 'false'
      x-stainless-lang:
      - python
      x-stainless-os:
      - MacOS
      x-stainless-package-version:
      - 1.6.0
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.11.5
    method: POST
    uri: https://gstudio.openai.azure.com/openai/deployments/gpt35/chat/completions?api-version=2023-07-01-preview
  response:
    content: '{"id":"chatcmpl-8YP7iupeashcm3auiwNIVyTI9Tjbu","object":"chat.completion","created":1703210418,"model":"gpt-35-turbo-16k","prompt_filter_results":[{"prompt_index":0,"content_filter_results":{"hate":{"filtered":false,"severity":"safe"},"self_harm":{"filtered":false,"severity":"safe"},"sexual":{"filtered":false,"severity":"safe"},"violence":{"filtered":false,"severity":"safe"}}}],"choices":[{"finish_reason":"stop","index":0,"message":{"role":"assistant","content":"Here
      is the JSON schema for the options of the `idet` filter:\n\n```json\n{\n  \"$schema\":
      \"http://json-schema.org/draft-07/schema#\",\n  \"title\": \"idet options\",\n  \"type\":
      \"object\",\n  \"properties\": {\n    \"intl_thres\": {\n      \"type\": \"number\",\n      \"description\":
      \"Set interlacing threshold.\"\n    },\n    \"prog_thres\": {\n      \"type\":
      \"number\",\n      \"description\": \"Set progressive threshold.\"\n    },\n    \"rep_thres\":
      {\n      \"type\": \"number\",\n      \"description\": \"Threshold for repeated
      field detection.\"\n    },\n    \"half_life\": {\n      \"type\": \"number\",\n      \"description\":
      \"Number of frames after which a given frame''s contribution to the statistics
      is halved.\"\n    },\n    \"analyze_interlaced_flag\": {\n      \"type\": \"integer\",\n      \"description\":
      \"When this is not 0, idet will use the specified number of frames to determine
      if the interlaced flag is accurate.\"\n    }\n  },\n  \"additionalProperties\":
      false\n}\n```\n\nPlease note that this JSON schema only covers the options of
      the `idet` filter and does not include the metadata values that the filter logs."},"content_filter_results":{"hate":{"filtered":false,"severity":"safe"},"self_harm":{"filtered":false,"severity":"safe"},"sexual":{"filtered":false,"severity":"safe"},"violence":{"filtered":false,"severity":"safe"}}}],"usage":{"prompt_tokens":1200,"completion_tokens":265,"total_tokens":1465}}

      '
    headers:
      Cache-Control:
      - no-cache, must-revalidate
      Content-Length:
      - '1916'
      Content-Type:
      - application/json
      Date:
      - Fri, 22 Dec 2023 02:00:20 GMT
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      access-control-allow-origin:
      - '*'
      apim-request-id:
      - fb497e43-9cc2-439a-8930-94ee4cdaded1
      azureml-model-session:
      - turbo-0613-9e2e75c5
      x-accel-buffering:
      - 'no'
      x-content-type-options:
      - nosniff
      x-ms-client-request-id:
      - fb497e43-9cc2-439a-8930-94ee4cdaded1
      x-ms-region:
      - East US
      x-ratelimit-remaining-requests:
      - '231'
      x-ratelimit-remaining-tokens:
      - '238862'
      x-request-id:
      - f7c6c475-d7b0-4bfc-a52f-a54014d7efcd
    http_version: HTTP/1.1
    status_code: 200
version: 1
