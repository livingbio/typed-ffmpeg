<h3 class="section"><a href="#toc-w3fdif">11.283 w3fdif</a></h3>

<p>Deinterlace the input video (&quot;w3fdif&quot; stands for &quot;Weston 3 Field
Deinterlacing Filter&quot;).
</p>
<p>Based on the process described by Martin Weston for BBC R&amp;D, and
implemented based on the de-interlace algorithm written by Jim
Easterbrook for BBC R&amp;D, the Weston 3 field deinterlacing filter
uses filter coefficients calculated by BBC R&amp;D.
</p>
<p>This filter uses field-dominance information in frame to decide which
of each pair of fields to place first in the output.
If it gets it wrong use <a href="#setfield">setfield</a> filter before <code>w3fdif</code> filter.
</p>
<p>There are two sets of filter coefficients, so called &quot;simple&quot;
and &quot;complex&quot;. Which set of filter coefficients is used can
be set by passing an optional parameter:
</p>
<dl compact="compact">
<dt><samp>filter</samp></dt>
<dd><p>Set the interlacing filter coefficients. Accepts one of the following values:
</p>
<dl compact="compact">
<dt>&lsquo;<samp>simple</samp>&rsquo;</dt>
<dd><p>Simple filter coefficient set.
</p></dd>
<dt>&lsquo;<samp>complex</samp>&rsquo;</dt>
<dd><p>More-complex filter coefficient set.
</p></dd>
</dl>
<p>Default value is &lsquo;<samp>complex</samp>&rsquo;.
</p>
</dd>
<dt><samp>mode</samp></dt>
<dd><p>The interlacing mode to adopt. It accepts one of the following values:
</p>
<dl compact="compact">
<dt><samp>frame</samp></dt>
<dd><p>Output one frame for each frame.
</p></dd>
<dt><samp>field</samp></dt>
<dd><p>Output one frame for each field.
</p></dd>
</dl>

<p>The default value is <code>field</code>.
</p>
</dd>
<dt><samp>parity</samp></dt>
<dd><p>The picture field parity assumed for the input interlaced video. It accepts one
of the following values:
</p>
<dl compact="compact">
<dt><samp>tff</samp></dt>
<dd><p>Assume the top field is first.
</p></dd>
<dt><samp>bff</samp></dt>
<dd><p>Assume the bottom field is first.
</p></dd>
<dt><samp>auto</samp></dt>
<dd><p>Enable automatic detection of field parity.
</p></dd>
</dl>

<p>The default value is <code>auto</code>.
If the interlacing is unknown or the decoder does not export this information,
top field first will be assumed.
</p>
</dd>
<dt><samp>deint</samp></dt>
<dd><p>Specify which frames to deinterlace. Accepts one of the following values:
</p>
<dl compact="compact">
<dt>&lsquo;<samp>all</samp>&rsquo;</dt>
<dd><p>Deinterlace all frames,
</p></dd>
<dt>&lsquo;<samp>interlaced</samp>&rsquo;</dt>
<dd><p>Only deinterlace frames marked as interlaced.
</p></dd>
</dl>

<p>Default value is &lsquo;<samp>all</samp>&rsquo;.
</p></dd>
</dl>
