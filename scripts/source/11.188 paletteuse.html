<h3 class="section"><a href="#toc-paletteuse">11.188 paletteuse</a></h3>

<p>Use a palette to downsample an input video stream.
</p>
<p>The filter takes two inputs: one video stream and a palette. The palette must
be a 256 pixels image.
</p>
<p>It accepts the following options:
</p>
<dl compact="compact">
<dt><samp>dither</samp></dt>
<dd><p>Select dithering mode. Available algorithms are:
</p><dl compact="compact">
<dt>&lsquo;<samp>bayer</samp>&rsquo;</dt>
<dd><p>Ordered 8x8 bayer dithering (deterministic)
</p></dd>
<dt>&lsquo;<samp>heckbert</samp>&rsquo;</dt>
<dd><p>Dithering as defined by Paul Heckbert in 1982 (simple error diffusion).
Note: this dithering is sometimes considered &quot;wrong&quot; and is included as a
reference.
</p></dd>
<dt>&lsquo;<samp>floyd_steinberg</samp>&rsquo;</dt>
<dd><p>Floyd and Steingberg dithering (error diffusion)
</p></dd>
<dt>&lsquo;<samp>sierra2</samp>&rsquo;</dt>
<dd><p>Frankie Sierra dithering v2 (error diffusion)
</p></dd>
<dt>&lsquo;<samp>sierra2_4a</samp>&rsquo;</dt>
<dd><p>Frankie Sierra dithering v2 &quot;Lite&quot; (error diffusion)
</p></dd>
<dt>&lsquo;<samp>sierra3</samp>&rsquo;</dt>
<dd><p>Frankie Sierra dithering v3 (error diffusion)
</p></dd>
<dt>&lsquo;<samp>burkes</samp>&rsquo;</dt>
<dd><p>Burkes dithering (error diffusion)
</p></dd>
<dt>&lsquo;<samp>atkinson</samp>&rsquo;</dt>
<dd><p>Atkinson dithering by Bill Atkinson at Apple Computer (error diffusion)
</p></dd>
<dt>&lsquo;<samp>none</samp>&rsquo;</dt>
<dd><p>Disable dithering.
</p></dd>
</dl>

<p>Default is <var>sierra2_4a</var>.
</p>
</dd>
<dt><samp>bayer_scale</samp></dt>
<dd><p>When <var>bayer</var> dithering is selected, this option defines the scale of the
pattern (how much the crosshatch pattern is visible). A low value means more
visible pattern for less banding, and higher value means less visible pattern
at the cost of more banding.
</p>
<p>The option must be an integer value in the range [0,5]. Default is <var>2</var>.
</p>
</dd>
<dt><samp>diff_mode</samp></dt>
<dd><p>If set, define the zone to process
</p>
<dl compact="compact">
<dt>&lsquo;<samp>rectangle</samp>&rsquo;</dt>
<dd><p>Only the changing rectangle will be reprocessed. This is similar to GIF
cropping/offsetting compression mechanism. This option can be useful for speed
if only a part of the image is changing, and has use cases such as limiting the
scope of the error diffusal <samp>dither</samp> to the rectangle that bounds the
moving scene (it leads to more deterministic output if the scene doesn&rsquo;t change
much, and as a result less moving noise and better GIF compression).
</p></dd>
</dl>

<p>Default is <var>none</var>.
</p>
</dd>
<dt><samp>new</samp></dt>
<dd><p>Take new palette for each output frame.
</p>
</dd>
<dt><samp>alpha_threshold</samp></dt>
<dd><p>Sets the alpha threshold for transparency. Alpha values above this threshold
will be treated as completely opaque, and values below this threshold will be
treated as completely transparent.
</p>
<p>The option must be an integer value in the range [0,255]. Default is <var>128</var>.
</p></dd>
</dl>
