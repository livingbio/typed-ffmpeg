{
  "description": "11.200 psnr\nObtain the average, maximum and minimum PSNR (Peak Signal to Noise\nRatio) between two input videos.\n\nThis filter takes in input two input videos, the first input is\nconsidered the \"main\" source and is passed unchanged to the\noutput. The second input is used as a \"reference\" video for computing\nthe PSNR.\n\nBoth video inputs must have the same resolution and pixel format for\nthis filter to work correctly. Also it assumes that both inputs\nhave the same number of frames, which are compared one by one.\n\nThe obtained average PSNR is printed through the logging system.\n\nThe filter stores the accumulated MSE (mean squared error) of each\nframe, and at the end of the processing it is averaged across all frames\nequally, and the following formula is applied to obtain the PSNR:\n\n\nPSNR = 10*log10(MAX^2/MSE)\n\nWhere MAX is the average of the maximum values of each component of the\nimage.\n\nThe description of the accepted parameters follows.\n\n\nThis filter also supports the framesync options.\n\nThe file printed if stats_file is selected, contains a sequence of\nkey/value pairs of the form key:value for each compared\ncouple of frames.\n\nIf a stats_version greater than 1 is specified, a header line precedes\nthe list of per-frame-pair stats, with key value pairs following the frame\nformat with the following parameters:\n\n\nA description of each shown per-frame-pair parameter follows:",
  "json_schema": {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "additionalProperties": false,
    "properties": {
      "stats_add_max": {
        "description": "Determines whether the max value is output to the stats log. Default value is 0. Requires stats_version >= 2.",
        "type": "integer"
      },
      "stats_file": {
        "description": "Specifies the file to save the PSNR of each individual frame. Use '-' for standard output.",
        "type": "string"
      },
      "stats_version": {
        "description": "Specifies which version of the stats file format to use. Default value is 1.",
        "type": "integer"
      }
    },
    "required": [],
    "title": "psnr options",
    "type": "object"
  },
  "name": "psnr",
  "parameters": [
    {
      "description": "<dd><p>If specified the filter will use the named file to save the PSNR of\neach individual frame. When filename equals \"-\" the data is sent to\nstandard output.\n</p>\n</dd>",
      "name": "stats_file, f"
    },
    {
      "description": "<dd><p>Specifies which version of the stats file format to use. Details of\neach format are written below.\nDefault value is 1.\n</p>\n</dd>",
      "name": "stats_version"
    },
    {
      "description": "<dd><p>Determines whether the max value is output to the stats log.\nDefault value is 0.\nRequires stats_version &gt;= 2. If this is set and stats_version &lt; 2,\nthe filter will return an error.\n</p></dd>",
      "name": "stats_add_max"
    }
  ],
  "ref": "https://ffmpeg.org/ffmpeg-filters.html#psnr",
  "source": "<h3 class=\"section\"><a href=\"#toc-psnr\">11.200 psnr</a></h3>\n\n<p>Obtain the average, maximum and minimum PSNR (Peak Signal to Noise\nRatio) between two input videos.\n</p>\n<p>This filter takes in input two input videos, the first input is\nconsidered the &quot;main&quot; source and is passed unchanged to the\noutput. The second input is used as a &quot;reference&quot; video for computing\nthe PSNR.\n</p>\n<p>Both video inputs must have the same resolution and pixel format for\nthis filter to work correctly. Also it assumes that both inputs\nhave the same number of frames, which are compared one by one.\n</p>\n<p>The obtained average PSNR is printed through the logging system.\n</p>\n<p>The filter stores the accumulated MSE (mean squared error) of each\nframe, and at the end of the processing it is averaged across all frames\nequally, and the following formula is applied to obtain the PSNR:\n</p>\n<div class=\"example\">\n<pre class=\"example\">PSNR = 10*log10(MAX^2/MSE)\n</pre></div>\n\n<p>Where MAX is the average of the maximum values of each component of the\nimage.\n</p>\n<p>The description of the accepted parameters follows.\n</p>\n<dl compact=\"compact\">\n<dt><samp>stats_file, f</samp></dt>\n<dd><p>If specified the filter will use the named file to save the PSNR of\neach individual frame. When filename equals &quot;-&quot; the data is sent to\nstandard output.\n</p>\n</dd>\n<dt><samp>stats_version</samp></dt>\n<dd><p>Specifies which version of the stats file format to use. Details of\neach format are written below.\nDefault value is 1.\n</p>\n</dd>\n<dt><samp>stats_add_max</samp></dt>\n<dd><p>Determines whether the max value is output to the stats log.\nDefault value is 0.\nRequires stats_version &gt;= 2. If this is set and stats_version &lt; 2,\nthe filter will return an error.\n</p></dd>\n</dl>\n\n<p>This filter also supports the <a href=\"#framesync\">framesync</a> options.\n</p>\n<p>The file printed if <var>stats_file</var> is selected, contains a sequence of\nkey/value pairs of the form <var>key</var>:<var>value</var> for each compared\ncouple of frames.\n</p>\n<p>If a <var>stats_version</var> greater than 1 is specified, a header line precedes\nthe list of per-frame-pair stats, with key value pairs following the frame\nformat with the following parameters:\n</p>\n<dl compact=\"compact\">\n<dt><samp>psnr_log_version</samp></dt>\n<dd><p>The version of the log file format. Will match <var>stats_version</var>.\n</p>\n</dd>\n<dt><samp>fields</samp></dt>\n<dd><p>A comma separated list of the per-frame-pair parameters included in\nthe log.\n</p></dd>\n</dl>\n\n<p>A description of each shown per-frame-pair parameter follows:\n</p>\n<dl compact=\"compact\">\n<dt><samp>n</samp></dt>\n<dd><p>sequential number of the input frame, starting from 1\n</p>\n</dd>\n<dt><samp>mse_avg</samp></dt>\n<dd><p>Mean Square Error pixel-by-pixel average difference of the compared\nframes, averaged over all the image components.\n</p>\n</dd>\n<dt><samp>mse_y, mse_u, mse_v, mse_r, mse_g, mse_b, mse_a</samp></dt>\n<dd><p>Mean Square Error pixel-by-pixel average difference of the compared\nframes for the component specified by the suffix.\n</p>\n</dd>\n<dt><samp>psnr_y, psnr_u, psnr_v, psnr_r, psnr_g, psnr_b, psnr_a</samp></dt>\n<dd><p>Peak Signal to Noise ratio of the compared frames for the component\nspecified by the suffix.\n</p>\n</dd>\n<dt><samp>max_avg, max_y, max_u, max_v</samp></dt>\n<dd><p>Maximum allowed value for each channel, and average over all\nchannels.\n</p></dd>\n</dl>\n\n"
}
