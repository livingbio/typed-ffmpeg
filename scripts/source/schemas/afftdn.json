{
  "description": "8.23 afftdn\nDenoise audio samples with FFT.\n\nA description of the accepted parameters follows.",
  "json_schema": {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "additionalProperties": false,
    "properties": {
      "adaptivity": {
        "default": 0.5,
        "maximum": 1,
        "minimum": 0,
        "type": "number"
      },
      "band_multiplier": {
        "default": 1.25,
        "maximum": 5,
        "minimum": 0.2,
        "type": "number"
      },
      "band_noise": {
        "type": "string"
      },
      "floor_offset": {
        "default": 1,
        "maximum": 2,
        "minimum": -2,
        "type": "number"
      },
      "gain_smooth": {
        "default": 0,
        "maximum": 50,
        "minimum": 0,
        "type": "integer"
      },
      "noise_floor": {
        "default": -50,
        "maximum": -20,
        "minimum": -80,
        "type": "number"
      },
      "noise_link": {
        "default": "min",
        "enum": [
          "none",
          "min",
          "max",
          "average"
        ],
        "type": "string"
      },
      "noise_reduction": {
        "default": 12,
        "maximum": 97,
        "minimum": 0.01,
        "type": "number"
      },
      "noise_type": {
        "default": "white",
        "enum": [
          "white",
          "vinyl",
          "shellac",
          "custom"
        ],
        "type": "string"
      },
      "output_mode": {
        "default": "output",
        "enum": [
          "input",
          "output",
          "noise"
        ],
        "type": "string"
      },
      "residual_floor": {
        "default": -38,
        "maximum": -20,
        "minimum": -80,
        "type": "number"
      },
      "sample_noise": {
        "default": "none",
        "enum": [
          "start",
          "stop"
        ],
        "type": "string"
      },
      "track_noise": {
        "default": false,
        "type": "boolean"
      },
      "track_residual": {
        "default": false,
        "type": "boolean"
      }
    },
    "title": "afftdn options",
    "type": "object"
  },
  "name": "afftdn",
  "parameters": [
    {
      "description": "<dd><p>Set the noise reduction in dB, allowed range is 0.01 to 97.\nDefault value is 12 dB.\n</p>\n</dd>",
      "name": "noise_reduction, nr"
    },
    {
      "description": "<dd><p>Set the noise floor in dB, allowed range is -80 to -20.\nDefault value is -50 dB.\n</p>\n</dd>",
      "name": "noise_floor, nf"
    },
    {
      "description": "<dd><p>Set the noise type.\n</p>\n<p>It accepts the following values:\n</p><dl compact=\"compact\">\n<dt><samp>white, w</samp></dt>\n<dd><p>Select white noise.\n</p>\n</dd>\n<dt><samp>vinyl, v</samp></dt>\n<dd><p>Select vinyl noise.\n</p>\n</dd>\n<dt><samp>shellac, s</samp></dt>\n<dd><p>Select shellac noise.\n</p>\n</dd>\n<dt><samp>custom, c</samp></dt>\n<dd><p>Select custom noise, defined in <code>bn</code> option.\n</p>\n<p>Default value is white noise.\n</p></dd>\n</dl>\n</dd>",
      "name": "noise_type, nt"
    },
    {
      "description": "<dd><p>Set custom band noise profile for every one of 15 bands.\nBands are separated by \u2019 \u2019 or \u2019|\u2019.\n</p>\n</dd>",
      "name": "band_noise, bn"
    },
    {
      "description": "<dd><p>Set the residual floor in dB, allowed range is -80 to -20.\nDefault value is -38 dB.\n</p>\n</dd>",
      "name": "residual_floor, rf"
    },
    {
      "description": "<dd><p>Enable noise floor tracking. By default is disabled.\nWith this enabled, noise floor is automatically adjusted.\n</p>\n</dd>",
      "name": "track_noise, tn"
    },
    {
      "description": "<dd><p>Enable residual tracking. By default is disabled.\n</p>\n</dd>",
      "name": "track_residual, tr"
    },
    {
      "description": "<dd><p>Set the output mode.\n</p>\n<p>It accepts the following values:\n</p><dl compact=\"compact\">\n<dt><samp>input, i</samp></dt>\n<dd><p>Pass input unchanged.\n</p>\n</dd>\n<dt><samp>output, o</samp></dt>\n<dd><p>Pass noise filtered out.\n</p>\n</dd>\n<dt><samp>noise, n</samp></dt>\n<dd><p>Pass only noise.\n</p>\n<p>Default value is <var>output</var>.\n</p></dd>\n</dl>\n</dd>",
      "name": "output_mode, om"
    },
    {
      "description": "<dd><p>Set the adaptivity factor, used how fast to adapt gains adjustments per\neach frequency bin. Value <var>0</var> enables instant adaptation, while higher values\nreact much slower.\nAllowed range is from <var>0</var> to <var>1</var>. Default value is <var>0.5</var>.\n</p>\n</dd>",
      "name": "adaptivity, ad"
    },
    {
      "description": "<dd><p>Set the noise floor offset factor. This option is used to adjust offset applied to measured\nnoise floor. It is only effective when noise floor tracking is enabled.\nAllowed range is from <var>-2.0</var> to <var>2.0</var>. Default value is <var>1.0</var>.\n</p>\n</dd>",
      "name": "floor_offset, fo"
    },
    {
      "description": "<dd><p>Set the noise link used for multichannel audio.\n</p>\n<p>It accepts the following values:\n</p><dl compact=\"compact\">\n<dt><samp>none</samp></dt>\n<dd><p>Use unchanged channel\u2019s noise floor.\n</p>\n</dd>\n<dt><samp>min</samp></dt>\n<dd><p>Use measured min noise floor of all channels.\n</p>\n</dd>\n<dt><samp>max</samp></dt>\n<dd><p>Use measured max noise floor of all channels.\n</p>\n</dd>\n<dt><samp>average</samp></dt>\n<dd><p>Use measured average noise floor of all channels.\n</p>\n<p>Default value is <var>min</var>.\n</p></dd>\n</dl>\n</dd>",
      "name": "noise_link, nl"
    },
    {
      "description": "<dd><p>Set the band multiplier factor, used how much to spread bands across frequency bins.\nAllowed range is from <var>0.2</var> to <var>5</var>. Default value is <var>1.25</var>.\n</p>\n</dd>",
      "name": "band_multiplier, bm"
    },
    {
      "description": "<dd><p>Toggle capturing and measurement of noise profile from input audio.\n</p>\n<p>It accepts the following values:\n</p><dl compact=\"compact\">\n<dt><samp>start, begin</samp></dt>\n<dd><p>Start sample noise capture.\n</p>\n</dd>\n<dt><samp>stop, end</samp></dt>\n<dd><p>Stop sample noise capture and measure new noise band profile.\n</p>\n<p>Default value is <code>none</code>.\n</p></dd>\n</dl>\n</dd>",
      "name": "sample_noise, sn"
    },
    {
      "description": "<dd><p>Set gain smooth spatial radius, used to smooth gains applied to each frequency bin.\nUseful to reduce random music noise artefacts.\nHigher values increases smoothing of gains.\nAllowed range is from <code>0</code> to <code>50</code>.\nDefault value is <code>0</code>.\n</p></dd>",
      "name": "gain_smooth, gs"
    }
  ],
  "ref": "https://ffmpeg.org/ffmpeg-filters.html#afftdn",
  "source": "<h3 class=\"section\"><a href=\"#toc-afftdn\">8.23 afftdn</a></h3>\n<p>Denoise audio samples with FFT.\n</p>\n<p>A description of the accepted parameters follows.\n</p>\n<dl compact=\"compact\">\n<dt><samp>noise_reduction, nr</samp></dt>\n<dd><p>Set the noise reduction in dB, allowed range is 0.01 to 97.\nDefault value is 12 dB.\n</p>\n</dd>\n<dt><samp>noise_floor, nf</samp></dt>\n<dd><p>Set the noise floor in dB, allowed range is -80 to -20.\nDefault value is -50 dB.\n</p>\n</dd>\n<dt><samp>noise_type, nt</samp></dt>\n<dd><p>Set the noise type.\n</p>\n<p>It accepts the following values:\n</p><dl compact=\"compact\">\n<dt><samp>white, w</samp></dt>\n<dd><p>Select white noise.\n</p>\n</dd>\n<dt><samp>vinyl, v</samp></dt>\n<dd><p>Select vinyl noise.\n</p>\n</dd>\n<dt><samp>shellac, s</samp></dt>\n<dd><p>Select shellac noise.\n</p>\n</dd>\n<dt><samp>custom, c</samp></dt>\n<dd><p>Select custom noise, defined in <code>bn</code> option.\n</p>\n<p>Default value is white noise.\n</p></dd>\n</dl>\n\n</dd>\n<dt><samp>band_noise, bn</samp></dt>\n<dd><p>Set custom band noise profile for every one of 15 bands.\nBands are separated by &rsquo; &rsquo; or &rsquo;|&rsquo;.\n</p>\n</dd>\n<dt><samp>residual_floor, rf</samp></dt>\n<dd><p>Set the residual floor in dB, allowed range is -80 to -20.\nDefault value is -38 dB.\n</p>\n</dd>\n<dt><samp>track_noise, tn</samp></dt>\n<dd><p>Enable noise floor tracking. By default is disabled.\nWith this enabled, noise floor is automatically adjusted.\n</p>\n</dd>\n<dt><samp>track_residual, tr</samp></dt>\n<dd><p>Enable residual tracking. By default is disabled.\n</p>\n</dd>\n<dt><samp>output_mode, om</samp></dt>\n<dd><p>Set the output mode.\n</p>\n<p>It accepts the following values:\n</p><dl compact=\"compact\">\n<dt><samp>input, i</samp></dt>\n<dd><p>Pass input unchanged.\n</p>\n</dd>\n<dt><samp>output, o</samp></dt>\n<dd><p>Pass noise filtered out.\n</p>\n</dd>\n<dt><samp>noise, n</samp></dt>\n<dd><p>Pass only noise.\n</p>\n<p>Default value is <var>output</var>.\n</p></dd>\n</dl>\n\n</dd>\n<dt><samp>adaptivity, ad</samp></dt>\n<dd><p>Set the adaptivity factor, used how fast to adapt gains adjustments per\neach frequency bin. Value <var>0</var> enables instant adaptation, while higher values\nreact much slower.\nAllowed range is from <var>0</var> to <var>1</var>. Default value is <var>0.5</var>.\n</p>\n</dd>\n<dt><samp>floor_offset, fo</samp></dt>\n<dd><p>Set the noise floor offset factor. This option is used to adjust offset applied to measured\nnoise floor. It is only effective when noise floor tracking is enabled.\nAllowed range is from <var>-2.0</var> to <var>2.0</var>. Default value is <var>1.0</var>.\n</p>\n</dd>\n<dt><samp>noise_link, nl</samp></dt>\n<dd><p>Set the noise link used for multichannel audio.\n</p>\n<p>It accepts the following values:\n</p><dl compact=\"compact\">\n<dt><samp>none</samp></dt>\n<dd><p>Use unchanged channel&rsquo;s noise floor.\n</p>\n</dd>\n<dt><samp>min</samp></dt>\n<dd><p>Use measured min noise floor of all channels.\n</p>\n</dd>\n<dt><samp>max</samp></dt>\n<dd><p>Use measured max noise floor of all channels.\n</p>\n</dd>\n<dt><samp>average</samp></dt>\n<dd><p>Use measured average noise floor of all channels.\n</p>\n<p>Default value is <var>min</var>.\n</p></dd>\n</dl>\n\n</dd>\n<dt><samp>band_multiplier, bm</samp></dt>\n<dd><p>Set the band multiplier factor, used how much to spread bands across frequency bins.\nAllowed range is from <var>0.2</var> to <var>5</var>. Default value is <var>1.25</var>.\n</p>\n</dd>\n<dt><samp>sample_noise, sn</samp></dt>\n<dd><p>Toggle capturing and measurement of noise profile from input audio.\n</p>\n<p>It accepts the following values:\n</p><dl compact=\"compact\">\n<dt><samp>start, begin</samp></dt>\n<dd><p>Start sample noise capture.\n</p>\n</dd>\n<dt><samp>stop, end</samp></dt>\n<dd><p>Stop sample noise capture and measure new noise band profile.\n</p>\n<p>Default value is <code>none</code>.\n</p></dd>\n</dl>\n\n</dd>\n<dt><samp>gain_smooth, gs</samp></dt>\n<dd><p>Set gain smooth spatial radius, used to smooth gains applied to each frequency bin.\nUseful to reduce random music noise artefacts.\nHigher values increases smoothing of gains.\nAllowed range is from <code>0</code> to <code>50</code>.\nDefault value is <code>0</code>.\n</p></dd>\n</dl>\n\n"
}
