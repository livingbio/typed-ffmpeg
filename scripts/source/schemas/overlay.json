{
  "description": "11.183 overlay\nOverlay one video on top of another.\n\nIt takes two inputs and has one output. The first input is the \"main\"\nvideo on which the second input is overlaid.\n\nIt accepts the following parameters:\n\nA description of the accepted options follows.\n\n\nThe x, and y expressions can contain the following\nparameters.\n\n\nThis filter also supports the framesync options.\n\nNote that the n, t variables are available only\nwhen evaluation is done per frame, and will evaluate to NAN\nwhen eval is set to \u2018init\u2019.\n\nBe aware that frames are taken from each input video in timestamp\norder, hence, if their initial timestamps differ, it is a good idea\nto pass the two inputs through a setpts=PTS-STARTPTS filter to\nhave them begin in the same zero timestamp, as the example for\nthe movie filter does.\n\nYou can chain together more overlays but you should test the\nefficiency of such approach.",
  "json_schema": {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "definitions": {
      "framesync": {
        "$ref": "framesync.json"
      }
    },
    "properties": {
      "alpha": {
        "default": "straight",
        "enum": [
          "straight",
          "premultiplied"
        ],
        "type": "string"
      },
      "eof_action": {
        "$ref": "#/definitions/framesync"
      },
      "eval": {
        "default": "frame",
        "enum": [
          "init",
          "frame"
        ],
        "type": "string"
      },
      "format": {
        "default": "yuv420",
        "enum": [
          "yuv420",
          "yuv420p10",
          "yuv422",
          "yuv422p10",
          "yuv444",
          "yuv444p10",
          "rgb",
          "gbrp",
          "auto"
        ],
        "type": "string"
      },
      "repeatlast": {
        "$ref": "#/definitions/framesync"
      },
      "shortest": {
        "$ref": "#/definitions/framesync"
      },
      "x": {
        "default": "0",
        "type": "string"
      },
      "y": {
        "default": "0",
        "type": "string"
      }
    },
    "title": "overlay options",
    "type": "object"
  },
  "name": "overlay",
  "parameters": [
    {
      "description": "<dd><p>Set the expression for the x and y coordinates of the overlaid video\non the main video. Default value is \"0\" for both expressions. In case\nthe expression is invalid, it is set to a huge value (meaning that the\noverlay will not be displayed within the output visible area).\n</p>\n</dd>",
      "name": "x"
    },
    {
      "description": "<dd><p>Set the expression for the x and y coordinates of the overlaid video\non the main video. Default value is \"0\" for both expressions. In case\nthe expression is invalid, it is set to a huge value (meaning that the\noverlay will not be displayed within the output visible area).\n</p>\n</dd>",
      "name": "y"
    },
    {
      "description": "<dd><p>See <a href=\"#framesync\">framesync</a>.\n</p>\n</dd>",
      "name": "eof_action"
    },
    {
      "description": "<dd><p>Set when the expressions for <samp>x</samp>, and <samp>y</samp> are evaluated.\n</p>\n<p>It accepts the following values:\n</p><dl compact=\"compact\">\n<dt>\u2018<samp>init</samp>\u2019</dt>\n<dd><p>only evaluate expressions once during the filter initialization or\nwhen a command is processed\n</p>\n</dd>\n<dt>\u2018<samp>frame</samp>\u2019</dt>\n<dd><p>evaluate expressions for each incoming frame\n</p></dd>\n</dl>\n<p>Default value is \u2018<samp>frame</samp>\u2019.\n</p>\n</dd>",
      "name": "eval"
    },
    {
      "description": "<dd><p>See <a href=\"#framesync\">framesync</a>.\n</p>\n</dd>",
      "name": "shortest"
    },
    {
      "description": "<dd><p>Set the format for the output video.\n</p>\n<p>It accepts the following values:\n</p><dl compact=\"compact\">\n<dt>\u2018<samp>yuv420</samp>\u2019</dt>\n<dd><p>force YUV 4:2:0 8-bit planar output\n</p>\n</dd>\n<dt>\u2018<samp>yuv420p10</samp>\u2019</dt>\n<dd><p>force YUV 4:2:0 10-bit planar output\n</p>\n</dd>\n<dt>\u2018<samp>yuv422</samp>\u2019</dt>\n<dd><p>force YUV 4:2:2 8-bit planar output\n</p>\n</dd>\n<dt>\u2018<samp>yuv422p10</samp>\u2019</dt>\n<dd><p>force YUV 4:2:2 10-bit planar output\n</p>\n</dd>\n<dt>\u2018<samp>yuv444</samp>\u2019</dt>\n<dd><p>force YUV 4:4:4 8-bit planar output\n</p>\n</dd>\n<dt>\u2018<samp>yuv444p10</samp>\u2019</dt>\n<dd><p>force YUV 4:4:4 10-bit planar output\n</p>\n</dd>\n<dt>\u2018<samp>rgb</samp>\u2019</dt>\n<dd><p>force RGB 8-bit packed output\n</p>\n</dd>\n<dt>\u2018<samp>gbrp</samp>\u2019</dt>\n<dd><p>force RGB 8-bit planar output\n</p>\n</dd>\n<dt>\u2018<samp>auto</samp>\u2019</dt>\n<dd><p>automatically pick format\n</p></dd>\n</dl>\n<p>Default value is \u2018<samp>yuv420</samp>\u2019.\n</p>\n</dd>",
      "name": "format"
    },
    {
      "description": "<dd><p>See <a href=\"#framesync\">framesync</a>.\n</p>\n</dd>",
      "name": "repeatlast"
    },
    {
      "description": "<dd><p>Set format of alpha of the overlaid video, it can be <var>straight</var> or\n<var>premultiplied</var>. Default is <var>straight</var>.\n</p></dd>",
      "name": "alpha"
    }
  ],
  "ref": "https://ffmpeg.org/ffmpeg-filters.html#overlay",
  "source": "<h3 class=\"section\"><a href=\"#toc-overlay-1\">11.183 overlay</a></h3>\n\n<p>Overlay one video on top of another.\n</p>\n<p>It takes two inputs and has one output. The first input is the &quot;main&quot;\nvideo on which the second input is overlaid.\n</p>\n<p>It accepts the following parameters:\n</p>\n<p>A description of the accepted options follows.\n</p>\n<dl compact=\"compact\">\n<dt><samp>x</samp></dt>\n<dt><samp>y</samp></dt>\n<dd><p>Set the expression for the x and y coordinates of the overlaid video\non the main video. Default value is &quot;0&quot; for both expressions. In case\nthe expression is invalid, it is set to a huge value (meaning that the\noverlay will not be displayed within the output visible area).\n</p>\n</dd>\n<dt><samp>eof_action</samp></dt>\n<dd><p>See <a href=\"#framesync\">framesync</a>.\n</p>\n</dd>\n<dt><samp>eval</samp></dt>\n<dd><p>Set when the expressions for <samp>x</samp>, and <samp>y</samp> are evaluated.\n</p>\n<p>It accepts the following values:\n</p><dl compact=\"compact\">\n<dt>&lsquo;<samp>init</samp>&rsquo;</dt>\n<dd><p>only evaluate expressions once during the filter initialization or\nwhen a command is processed\n</p>\n</dd>\n<dt>&lsquo;<samp>frame</samp>&rsquo;</dt>\n<dd><p>evaluate expressions for each incoming frame\n</p></dd>\n</dl>\n\n<p>Default value is &lsquo;<samp>frame</samp>&rsquo;.\n</p>\n</dd>\n<dt><samp>shortest</samp></dt>\n<dd><p>See <a href=\"#framesync\">framesync</a>.\n</p>\n</dd>\n<dt><samp>format</samp></dt>\n<dd><p>Set the format for the output video.\n</p>\n<p>It accepts the following values:\n</p><dl compact=\"compact\">\n<dt>&lsquo;<samp>yuv420</samp>&rsquo;</dt>\n<dd><p>force YUV 4:2:0 8-bit planar output\n</p>\n</dd>\n<dt>&lsquo;<samp>yuv420p10</samp>&rsquo;</dt>\n<dd><p>force YUV 4:2:0 10-bit planar output\n</p>\n</dd>\n<dt>&lsquo;<samp>yuv422</samp>&rsquo;</dt>\n<dd><p>force YUV 4:2:2 8-bit planar output\n</p>\n</dd>\n<dt>&lsquo;<samp>yuv422p10</samp>&rsquo;</dt>\n<dd><p>force YUV 4:2:2 10-bit planar output\n</p>\n</dd>\n<dt>&lsquo;<samp>yuv444</samp>&rsquo;</dt>\n<dd><p>force YUV 4:4:4 8-bit planar output\n</p>\n</dd>\n<dt>&lsquo;<samp>yuv444p10</samp>&rsquo;</dt>\n<dd><p>force YUV 4:4:4 10-bit planar output\n</p>\n</dd>\n<dt>&lsquo;<samp>rgb</samp>&rsquo;</dt>\n<dd><p>force RGB 8-bit packed output\n</p>\n</dd>\n<dt>&lsquo;<samp>gbrp</samp>&rsquo;</dt>\n<dd><p>force RGB 8-bit planar output\n</p>\n</dd>\n<dt>&lsquo;<samp>auto</samp>&rsquo;</dt>\n<dd><p>automatically pick format\n</p></dd>\n</dl>\n\n<p>Default value is &lsquo;<samp>yuv420</samp>&rsquo;.\n</p>\n</dd>\n<dt><samp>repeatlast</samp></dt>\n<dd><p>See <a href=\"#framesync\">framesync</a>.\n</p>\n</dd>\n<dt><samp>alpha</samp></dt>\n<dd><p>Set format of alpha of the overlaid video, it can be <var>straight</var> or\n<var>premultiplied</var>. Default is <var>straight</var>.\n</p></dd>\n</dl>\n\n<p>The <samp>x</samp>, and <samp>y</samp> expressions can contain the following\nparameters.\n</p>\n<dl compact=\"compact\">\n<dt><samp>main_w, W</samp></dt>\n<dt><samp>main_h, H</samp></dt>\n<dd><p>The main input width and height.\n</p>\n</dd>\n<dt><samp>overlay_w, w</samp></dt>\n<dt><samp>overlay_h, h</samp></dt>\n<dd><p>The overlay input width and height.\n</p>\n</dd>\n<dt><samp>x</samp></dt>\n<dt><samp>y</samp></dt>\n<dd><p>The computed values for <var>x</var> and <var>y</var>. They are evaluated for\neach new frame.\n</p>\n</dd>\n<dt><samp>hsub</samp></dt>\n<dt><samp>vsub</samp></dt>\n<dd><p>horizontal and vertical chroma subsample values of the output\nformat. For example for the pixel format &quot;yuv422p&quot; <var>hsub</var> is 2 and\n<var>vsub</var> is 1.\n</p>\n</dd>\n<dt><samp>n</samp></dt>\n<dd><p>the number of input frame, starting from 0\n</p>\n</dd>\n<dt><samp>pos</samp></dt>\n<dd><p>the position in the file of the input frame, NAN if unknown; deprecated,\ndo not use\n</p>\n</dd>\n<dt><samp>t</samp></dt>\n<dd><p>The timestamp, expressed in seconds. It&rsquo;s NAN if the input timestamp is unknown.\n</p>\n</dd>\n</dl>\n\n<p>This filter also supports the <a href=\"#framesync\">framesync</a> options.\n</p>\n<p>Note that the <var>n</var>, <var>t</var> variables are available only\nwhen evaluation is done <em>per frame</em>, and will evaluate to NAN\nwhen <samp>eval</samp> is set to &lsquo;<samp>init</samp>&rsquo;.\n</p>\n<p>Be aware that frames are taken from each input video in timestamp\norder, hence, if their initial timestamps differ, it is a good idea\nto pass the two inputs through a <var>setpts=PTS-STARTPTS</var> filter to\nhave them begin in the same zero timestamp, as the example for\nthe <var>movie</var> filter does.\n</p>\n<p>You can chain together more overlays but you should test the\nefficiency of such approach.\n</p>\n"
}
